---
title: 'Reysha Marie S. Salinas IT2C  LAB Exercise 2 '
output:
  pdf_document: default
  html_document: default
date: "2024-02-15"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

(SCRAPE 5O PRODUCTS / 50 PRODUCTS 5O /name/type/date/individual/review)

24/50 PRODUCTS
```{r }
#get first half of 50 - 24 PRODUCTS

library(rvest)
library(dplyr)
library(polite)
library(stringr) 
library(httr)

products <- "https://www.amazon.com.au/s?bbn=4851799051&rh=n%3A6035839051&language=en_AU&_encoding=UTF8&brr=1&content-id=amzn1.sym.b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pd_rd_r=708b8da9-4d12-4c9c-b945-e5349e7120c8&pd_rd_w=AsqeN&pd_rd_wg=r572i&pf_rd_p=b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pf_rd_r=2EVHVJ7QKDNTJEC8HDFT&rd=1&ref=Oct_d_odnav_d_4885206051_0"

session <- bow(products, user_agent = "educational purposes")
session

product24 <- read_html(products)

#subset 24 products
products.24<- product24 %>%
    html_nodes("h2") %>%
    html_text()
products.24

subsetproducts1<- products.24[1:24]
subsetproducts1
```
24/50 PRODUCTS
```{r}
products26 <- "https://www.amazon.com.au/s?i=electronics&bbn=4851799051&rh=n%3A6035839051&page=2&language=en_AU&_encoding=UTF8&brr=1&content-id=amzn1.sym.b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pd_rd_r=708b8da9-4d12-4c9c-b945-e5349e7120c8&pd_rd_w=AsqeN&pd_rd_wg=r572i&pf_rd_p=b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pf_rd_r=2EVHVJ7QKDNTJEC8HDFT&qid=1709397899&rd=1&ref=sr_pg_1"

session <- bow(products, user_agent = "educational purposes")
session

product26 <- read_html(products26) 

#subset 26 products
products.26<- product26 %>%
    html_nodes("h2") %>%
    html_text()
products.26

subsetproducts2 <- products.26[1:24]
subsetproducts2
```
2/50
```{r}
#get 2 products to complete 50  
products2 <- "https://www.amazon.com.au/s?i=electronics&bbn=4851799051&rh=n%3A6035839051&page=3&language=en_AU&_encoding=UTF8&brr=1&content-id=amzn1.sym.b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pd_rd_r=708b8da9-4d12-4c9c-b945-e5349e7120c8&pd_rd_w=AsqeN&pd_rd_wg=r572i&pf_rd_p=b8ed1d3c-2f91-48cc-baac-e6d8e7f439e4&pf_rd_r=2EVHVJ7QKDNTJEC8HDFT&qid=1709398205&rd=1&ref=sr_pg_2"

session <- bow(products, user_agent = "educational purposes")
session

product2 <- read_html(products2) 

#subset 2 products
products.2<- product2 %>%
    html_nodes("h2") %>%
    html_text()
products.2

subsetproducts3 <- products.2[1:2]
subsetproducts3
```
frame the products
```{r}
combinedName <- data.frame(
  ProductName = c(subsetproducts1, subsetproducts2, subsetproducts3)
)

combinedName 
```
write csv for 50 products
```{r}
write.csv(combinedName, file = "50Products.csv") 
#load
head(combinedName)
```
 50 producst complete. Know get 50 reviews each product 
 first, get the url of 50 products. 

FOR PRODUCT #1
```{r} 
#this link gwt only 13 names / add 37 names
url1 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_arp_d_viewopt_srt?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&sortBy=recent&pageNumber=1#reviews-filter-bar"
session <- bow(url1, user_agent = "educational purposes")
session

url1_ <- read_html(url1)  

#this link add 12
url1.1 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_getr_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&sortBy=recent&pageNumber=2#reviews-filter-bar"
session <- bow(url1.1, user_agent = "educational purposes")
session

url1_.1<- read_html(url1.1)

#this link add 13
url1.2 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&sortBy=recent&pageNumber=3#reviews-filter-bar"
session <- bow(url1.2, user_agent = "educational purposes")
session

url1_.2<- read_html(url1.2)

#this link add 12
url1.3 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&sortBy=recent&pageNumber=4#reviews-filter-bar"
session <- bow(url1.3, user_agent = "educational purposes")
session

url1_.3<- read_html(url1.3)


#get the reviewer names add 13 add 12 more

name1.2 <- url1_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name1.2 


#get the reviewer names add  12
name1.3 <- url1_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name1.3


#--
#get the reviewer names 13 .add 37
name1 <- url1_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name1 

#get the reviewer names add 12. 37-12 = 25 add 25 more

name1.1 <- url1_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name1.1  

name1.1 <- name1.1 [1:12]

#get the reviewer names add 13 add 12 more

name1.2 <- url1_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name1.2 


#get the reviewer names add  12
name1.3 <- url1_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name1.3


#type of purhcase 
purchase1 <- url1_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchase1  

#type of purhcase 
purchase1.1 <- url1_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchase1.1

purchase1.2<- url1_.2%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchase1.2

purchase1.3 <- url1_.3%>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchase1.3


#sub 
purchase1.3_ <- purchase1.3[1:22]
#date 
date1 <- url1_%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date1

date1.1<- url1_.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date1.1

date1.2<- url1_.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date1.2 

date1.3<- url1_.3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date1.3 

#sub
date1.3_ <- date1.3[1:20]
#individual ratings 
rate1<- url1_%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate1 

rate1.1<- url1_.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate1.1

rate1.2<- url1_.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

rate1.2 

rate1.3<- url1_.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate1.3

#review text 
review1 <- url1_%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)
review1

review1.1 <- url1_.1%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)
review1.1 

review1.2 <- url1_.2%>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)
review1.2

review1.3 <- url1_.3 %>%
  html_nodes("span.a-size-base.review-text.review-text-content") %>%
  html_text() %>%
  gsub("\\n", "", .)

review1.3_sub <- review1.3[1:20]

review1.3_sub
#productname rep for 50
title1 <- rep(subsetproducts1[[1]],50)
title1


#DATA FRAMES

dataname <- data.frame(
 ReviewerName = c(name1, name1.1, name1.2, name1.3)
)
dataname

#type of purchase data frame
datapurchaseType <- data.frame(
    TypeOfPurchase = c(purchase1,purchase1.1,purchase1.2, purchase1.3_)
)
datapurchaseType

#date dataframe
dataDate <- data.frame(
    Date = c(date1,date1.1,date1.2, date1.3_)
)
dataDate 

#individual rating dataframe
rate <- data.frame(
    IndividualRating = c(rate1,rate1.1,rate1.2, rate1.3)
)
rate  


# text reviews dataframe
review <- data.frame(
   ReviewText = c(review1,review1.1,review1.2, review1.3_sub)
)
review 


# Selecting 50 rows from each data frame
selected_dataname <- head(dataname, 50)
selected_datapurchaseType <- head(datapurchaseType, 50)
selected_dataDate <- head(dataDate, 50)
selected_rate <- head(rate, 50)
selected_review <- head(review, 50)


#product
    pro <- rep(subsetproducts1[1],50)

#combined dataframes
combinedproduct1 <- data.frame(  
        Product = pro,
        Name = selected_dataname,
        TypeOfPurchase = selected_datapurchaseType,
        Date = selected_dataDate, 
        IndividualRating = selected_rate,
       ReviewText = selected_review
)
combinedproduct1 

#write csv for product 1 review

write.csv(combinedproduct1, file = "1stProduct.csv")

#load product 1 Samsung Galaxy Buds2 Pro, Graphite
head(combinedproduct1)

```
FOR PRODUCT #2
```{r} 
#this link gwt only 13 names / add 37 names
url2 <- "https://www.amazon.com.au/product-reviews/B0CB8HHS8V/ref=acr_dpx_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url2, user_agent = "educational purposes")
session

url2_ <- read_html(url2)  

#this link add 12
url2.1 <- "https://www.amazon.com.au/product-reviews/B0CB8HHS8V/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"
session <- bow(url2.1, user_agent = "educational purposes")
session

url2_.1<- read_html(url2.1)

#this link add 
url2.2 <- "https://www.amazon.com.au/product-reviews/B0CB8HHS8V/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar%22"
session <- bow(url1.2, user_agent = "educational purposes")
session

url2_.2<- read_html(url1.2)

#this link add 12
url2.3 <- "https://www.amazon.com.au/product-reviews/B0CB8HHS8V/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
session <- bow(url2.3, user_agent = "educational purposes")
session

url2_.3<- read_html(url2.3)

#reviews for product1
#name/type/date/individual/review(50)

#get the reviewer names 19
name2 <- url2_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name2

#get the reviewer names 13 +19 = 32
name2.1 <- url2_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name2.1  <- name2.1[3:15] 
name2.1



#get the reviewer names  

name2.2 <- url2_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name2.2   



#get the reviewer names add  10
name2.3 <- url2_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name2.3 <- name2.3[3:12]
name2.3


#type of purhcase 
purchase2 <- url2_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchase2 

  #type of purhcase 
  purchase2.1 <- url2_.1 %>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
  purchase2.1
  
  purchase2.2<- url2_.2%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
  purchase2.2
  
  purchase2.2 <- url2_.3%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
  purchase2.3 <- purchase2.2[1:22] 
  purchase2.3
#date 
date2<- url2_%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date2

date2.1<- url2_.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date2.1

date2.2<- url2_.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date2.2 

date2.3<- url2_.3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date2.3 

#sub
date2.3_ <- date2.3[1:20] 

#individual ratings 
rate2<- url2_%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate2

rate2.1<- url2_.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate2.1

rate2.2<- url2_.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate2.2 

rate2.3<- url2_.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate2.3
 

#review text  
# Review text extraction
review2 <- url2_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
 gsub("\\n", "", .)
review2 


review2.1 <- url2_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
 gsub("\\n", "", .)

review2.2 <- url2_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
 gsub("\\n", "", .)

review2.3 <- url2_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
 gsub("\\n", "", .)
review2.3<- review2.3[1:30]

# DATA FRAMES
dataname2 <- data.frame(
    ReviewerName = c(name2, name2.1, name2.2, name2.3)[1:50]
)

datapurchaseType2 <- data.frame(
    TypeOfPurchase = c(purchase2, purchase2.1, purchase2.2, purchase2.3)[1:50]
)

dataDate2 <- data.frame(
    Date = c(date2, date2.1, date2.2, date2.3_)[1:50]
)

rate2 <- data.frame(
    IndividualRating = c(rate2, rate2.1, rate2.2, rate2.3)[1:50]
)


# Corrected variable name
review_dataframe2 <- data.frame(
    ReviewText = c(review2, review2.1, review2.2, review2.3)[1:50]
)

 pro2 <- rep(subsetproducts1[2],50) 
 
combinedproduct2 <- data.frame( 
   Product = pro2,
   ReviewerName = dataname2$ReviewerName,
   TypeOfPurchase = datapurchaseType2$TypeOfPurchase,
   Date = dataDate2$Date,
   IndividualRating = rate2$IndividualRating,
    ReviewText = review_dataframe2$ReviewText
)

combinedproduct2


# Write CSV for product 2 review
write.csv(combinedproduct2, file = "2ndProduct.csv")

#load product 2
head(combinedproduct2)
```
FOR PRODUCT #3
```{r} 
url3 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=acr_dpx_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url3, user_agent = "educational purposes")
session

url3_ <- read_html(url3)  

#this link add 12
url3.1 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"
session <- bow(url3.1, user_agent = "educational purposes")
session

url3_.1<- read_html(url3.1)

#this link add 
url3.2 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
session <- bow(url3.2, user_agent = "educational purposes")
session

url3_.2<- read_html(url3.2)

#this link add 12
url3.3 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url3.3, user_agent = "educational purposes")
session

url3_.3<- read_html(url3.3)

url3.4 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_getr_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
session <- bow(url3.4, user_agent = "educational purposes")
session

url3_.4<- read_html(url3.4)

#reviews for product1
#name/type/date/individual/review(50)

#get the reviewer names 19
name3 <- url3_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name3

#get the reviewer names 13 +19 = 32
name3.1 <- url3_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name3.1  <- name3.1[3:13] 
name3.1



#get the reviewer names  

name3.2 <- url3_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name3.2 <- name3.2 [3:9] 
name3.2


#get the reviewer names add  10
name3.3 <- url3_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name3.3 <- name3.3[3:12]
name3.3

name3.4 <- url3_.4 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name3.4 <- name3.4[3:12]
name3.4

#type of purhcase 
purchase3<- url3_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()
purchase3

  #type of purhcase 
  purchase3.1 <- url3_.1 %>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
  purchase3.1
  
  purchase3.2<- url3_.2%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
  purchase3.2
  
  purchase3.3 <- url3_.3%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
  purchase3.3 <- purchase3.3 
  purchase3.3 
  
  purchase3.4 <- url3_.4%>%
      html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
      html_text()
  purchase3.4 <- purchase3.3 
  purchase3.4
#date 
date3<- url3_%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date3

date3.1<- url3_.1%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date3.1

date3.2<- url3_.2%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date3.2 

date3.3<- url3_.3%>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()
date3.3 

#sub
date3.3_ <- date3.3[1:20] 

#individual ratings 
rate3<- url3_%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate3

rate3.1<- url3_.1%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate3.1

rate3.2<- url3_.2%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate3.2 

rate3.3<- url3_.3%>%
    html_nodes("span.a-icon-alt") %>%
    html_text()
rate3.3
 

#review text  
# Review text extraction
review3 <- url3_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
 gsub("\\n", "", .)
review3 


review3.1 <- url3_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
 gsub("\\n", "", .)

review3.2 <- url3_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
 gsub("\\n", "", .)

review3.3 <- url3_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
 gsub("\\n", "", .)
review3.3<- review2.3[1:12]   

review3.4<- url3_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
 gsub("\\n", "", .)
review3.4<- review3.4[1:10]


# DATA FRAMES
dataname3 <- data.frame(
    ReviewerName = c(name3, name3.1, name3.2, name3.3,name3.4)[1:50]
)
dataname3

datapurchaseType3 <- data.frame(
    TypeOfPurchase = c(purchase3, purchase3.1, purchase3.2, purchase3.3, purchase3.4)[1:50]
)
datapurchaseType3

dataDate3 <- data.frame(
    Date = c(date3, date3.1, date3.2, date3.3_)[1:50]
)

rate3 <- data.frame(
    IndividualRating = c(rate3, rate3.1, rate3.2, rate3.3)[1:50]
)


# Corrected variable name
review_dataframe3 <- data.frame(
    ReviewText = c(review3, review3.1, review3.2, review3.3,review3.4)[1:50]
)

     pro3 <- rep(subsetproducts1[3],50) 
     
combinedproduct3 <- data.frame( 
          Product = pro3,
          ReviewerName = dataname3$ReviewerName,
          TypeOfPurchase = datapurchaseType3$TypeOfPurchase,
          Date = dataDate3$Date,
          IndividualRating = rate3$IndividualRating,
          ReviewText = review_dataframe3$ReviewText
)

combinedproduct3


# Write CSV for product 2 review
write.csv(combinedproduct3, file = "3ndProduct.csv")

```
FOR PRODUCT #4
```{r}
url4 <- "https://www.amazon.com.au/product-reviews/B085RN9GRX/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url4, user_agent = "educational purposes")
session

url4_ <- read_html(url4)  

# This link adds 12
url4.1 <- "https://www.amazon.com.au/product-reviews/B07QKYTGH9/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"
session <- bow(url4.1, user_agent = "educational purposes")
session

url4_.1 <- read_html(url4.1)

# This link adds 12
url4.2 <- "https://www.amazon.com.au/product-reviews/B085RN9GRX/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
session <- bow(url4.2, user_agent = "educational purposes")
session

url4_.2 <- read_html(url4.2)

# This link adds 12
url4.3 <- "https://www.amazon.com.au/product-reviews/B085RN9GRX/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url4.3, user_agent = "educational purposes")
session

url4_.3 <- read_html(url4.3)

url4.4 <- "https://www.amazon.com.au/product-reviews/B085RN9GRX/ref=cm_cr_getr_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
session <- bow(url4.4, user_agent = "educational purposes")
session

url4_.4 <- read_html(url4.4)

# Reviews for product 4
# Name/Type/Date/Individual/Review (50)

# Get the reviewer names
name4 <- url4_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text()

# Get the reviewer names (add 12)
name4.1 <- url4_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name4.1 <- name4.1[3:13] 

# Get the reviewer names (add 12)
name4.2 <- url4_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name4.2 <- name4.2[3:9] 

# Get the reviewer names (add 10)
name4.3 <- url4_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name4.3 <- name4.3[3:12]

# Get the reviewer names (add 10)
name4.4 <- url4_.4 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name4.4 <- name4.4[3:12]

# Type of purchase 
purchase4 <- url4_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase4.1 <- url4_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase4.2 <- url4_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase4.3 <- url4_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase4.4 <- url4_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date4 <- url4_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date4.1 <- url4_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date4.2 <- url4_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date4.3 <- url4_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date4.4 <- url4_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date4.3_ <- date4.3[1:20] 

# Individual ratings 
rate4 <- url4_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate4.1 <- url4_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate4.2 <- url4_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate4.3 <- url4_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate4.4 <- url4_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review4 <- url4_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review4.1 <- url4_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review4.2 <- url4_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review4.3 <- url4_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review4.3 <- review4.3[1:12]   

review4.4 <- url4_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review4.4 <- review4.4[1:10]

# DATA FRAMES
dataname4 <- data.frame(
    ReviewerName = c(name4, name4.1, name4.2, name4.3, name4.4)[1:50]
)
dataname4

datapurchaseType4 <- data.frame(
    TypeOfPurchase = c(purchase4, purchase4.1, purchase4.2, purchase4.3, purchase4.4)[1:50]
)
datapurchaseType4

dataDate4 <- data.frame(
    Date = c(date4, date4.1, date4.2, date4.3_)[1:50]
)

rate4 <- data.frame(
    IndividualRating = c(rate4, rate4.1, rate4.2, rate4.3)[1:50]
)

# Corrected variable name
review_dataframe4 <- data.frame(
    ReviewText = c(review4, review4.1, review4.2, review4.3, review4.4)[1:50]
)
    #product name
     pr4 <- rep(subsetproducts1[4],50)
     
combinedproduct4 <- data.frame( 
  Product = pr4,
  ReviewerName = dataname4$ReviewerName,
  TypeOfPurchase = datapurchaseType4$TypeOfPurchase,
  Date = dataDate4$Date,
  IndividualRating = rate4$IndividualRating,
  ReviewText = review_dataframe4$ReviewText
)

combinedproduct4

# Write CSV for product 4 review
write.csv(combinedproduct4, file = "4thProduct.csv")
```
FOR PRODUCT #5
```{r}
url5<- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=acr_dpx_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url5, user_agent = "educational purposes")
session

url5_ <- read_html(url5)

url5.1 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=acr_dpx_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url5.1, user_agent = "educational purposes")
session

url5_.1 <- read_html(url5.1)

# This link adds 12
url5.2 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"
session <- bow(url5.2, user_agent = "educational purposes")
session

url5_.2 <- read_html(url5.2)

# This link adds 12
url5.3 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
session <- bow(url5.3, user_agent = "educational purposes")
session

url5_.3 <- read_html(url5.3)

url5.4 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url5.4, user_agent = "educational purposes")
session

url5_.4 <- read_html(url5.4)

# Reviews for product 5
# Name/Type/Date/Individual/Review (50)

# Get the reviewer names
name5 <- url5_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text()

# Get the reviewer names (add 12)
name5.1 <- url5_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name5.1 <- name5.1[3:13] 

# Get the reviewer names (add 12)
name5.2 <- url5_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name5.2 <- name5.2[3:9] 

# Get the reviewer names (add 10)
name5.3 <- url5_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name5.3 <- name5.3[3:12]

# Get the reviewer names (add 10)
name5.4 <- url5_.4 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name5.4 <- name5.4[3:12]

# Type of purchase 
purchase5 <- url5_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase5.1 <- url5_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase5.2 <- url5_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase5.3 <- url5_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase5.4 <- url5_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date5 <- url5_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date5.1 <- url5_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date5.2 <- url5_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date5.3 <- url5_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date5.4 <- url5_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date5.3_ <- date5.4[1:20]

# Individual ratings 
rate5 <- url5_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate5.1 <- url5_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate5.2 <- url5_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate5.3 <- url5_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate5.4 <- url5_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review5 <- url5_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review5.1 <- url5_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review5.2 <- url5_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review5.3 <- url5_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review5.3 <- review5.3[1:12]   

review5.4 <- url5_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review5.4 <- review5.4[1:10]

# DATA FRAMES
dataname5 <- data.frame(
    ReviewerName = c(name5, name5.1, name5.2, name5.3, name5.4)[1:50]
)
dataname5

datapurchaseType5 <- data.frame(
    TypeOfPurchase = c(purchase5, purchase5.1, purchase5.2, purchase5.3, purchase5.4)[1:50]
)
datapurchaseType5

dataDate5 <- data.frame(
    Date = c(date5, date5.1, date5.2, date5.3_)[1:50]
)

rate5 <- data.frame(
    IndividualRating = c(rate5, rate5.1, rate5.2, rate5.3)[1:50]
)

# Corrected variable name
review_dataframe5 <- data.frame(
    ReviewText = c(review5, review5.1, review5.2, review5.3, review5.4)[1:50]
) 

 pro5 <- rep(subsetproducts1[5],50)

combinedproduct5 <- data.frame( 
  Product = pro5,
  ReviewerName = dataname5$ReviewerName,
  TypeOfPurchase = datapurchaseType5$TypeOfPurchase,
  Date = dataDate5$Date,
  IndividualRating = rate5$IndividualRating,
  ReviewText = review_dataframe5$ReviewText
)

combinedproduct5

# Write CSV for product 5 review
write.csv(combinedproduct5, file = "5thProduct.csv")
```
FOR PRODUCT #6
```{r} 
url6<- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url6, user_agent = "educational purposes")
session

url6_ <- read_html(url6)

url6.1 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url6.1, user_agent = "educational purposes")
session

url6_.1 <- read_html(url6.1)

# This link adds 12
url6.2 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url6.2, user_agent = "educational purposes")
session

url6_.2 <- read_html(url6.2)

# This link adds 12
url6.3 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_2?ie=UTF8&filterByStar=two_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url6.3, user_agent = "educational purposes")
session

url6_.3 <- read_html(url6.3)

url6.4 <- "https://www.amazon.com.au/product-reviews/B0BHDRW3MK/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
#session <- bow(url5.4, user_agent = "educational purposes")
#session

url6_.4 <- read_html(url6.4)

# Reviews for product 5
# Name/Type/Date/Individual/Review (50)

# Get the reviewer names
name6 <- url6_%>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name6

# Get the reviewer names (add 12)
name6.1 <- url6_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name6.1 <- name6.1[3:11] 
name6.1
# Get the reviewer names (add 12)
name6.2 <- url6_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name6.2 <- name6.2[3:9] 
name6.2
# Get the reviewer names (add 10)
name6.3 <- url6_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name6.3 <- name6.3[3:12]
name6.3 


# Type of purchase 
purchase6 <- url6_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase6.1 <- url6_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase6.2 <- url6_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase6.3 <- url6_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase6.4 <- url6_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date6 <- url6_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date6.1 <- url6_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date6.2 <- url6_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date6.3 <- url6_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date6.4 <- url6_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date6.3_ <- date6.4[1:20]

# Individual ratings 
rate6 <- url6_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate6.1 <- url6_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate6.2 <- url6_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate6.3 <- url6_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate6.4 <- url6_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review6 <- url6_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review6.1 <- url6_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review6.2 <- url6_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review6.3 <- url6_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review6.3 <- review6.3[1:12]   

review6.4 <- url6_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review6.4 <- review6.4[1:10]

# DATA FRAMES
dataname6 <- data.frame(
    ReviewerName = c(name6, name6.1, name6.2, name6.3)[1:50]
)

datapurchaseType6 <- data.frame(
    TypeOfPurchase = c(purchase6, purchase6.1, purchase6.2, purchase6.3, purchase6.4)[1:50]
)

dataDate6 <- data.frame(
    Date = c(date6, date6.1, date6.2, date6.3)[1:50]
)

rate6 <- data.frame(
    IndividualRating = c(rate6, rate6.1, rate6.2, rate6.3)[1:50]
)

# Corrected variable name
review_dataframe6 <- data.frame(
    ReviewText = c(review6, review6.1, review6.2, review6.3, review6.4)[1:50]
) 

#product name 
 pro6 <- rep(subsetproducts1[6],50) 
  
combinedproduct6 <- data.frame( 
        Product =  pro6,
        ReviewerName = dataname6$ReviewerName,
        TypeOfPurchase = datapurchaseType6$TypeOfPurchase,
        Date = dataDate6$Date,
        IndividualRating = rate6$IndividualRating,
        ReviewText = review_dataframe6$ReviewText
)


combinedproduct6

# Write CSV for product 6 review
write.csv(combinedproduct6, file = "6thProduct.csv")
```
FOR PRODUCT #7
```{r}
url7 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url7, user_agent = "educational purposes")
session

url7_ <- read_html(url7)

url7.1 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url7.1, user_agent = "educational purposes")
session

url7_.1 <- read_html(url7.1)

# This link adds 12
url7.2 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url7.2, user_agent = "educational purposes")
session

url7_.2 <- read_html(url7.2)

# This link adds 12
url7.3 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_2?ie=UTF8&filterByStar=two_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url7.3, user_agent = "educational purposes")
session

url7_.3 <- read_html(url7.3)

url7.4 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_1?ie=UTF8&filterByStar=one_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url7.4, user_agent = "educational purposes")
session

url7_.4 <- read_html(url7.4)

# Reviews for product 7
# Name/Type/Date/Individual/Review (50)

# Get the reviewer names
name7 <- url7_%>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name7

# Get the reviewer names (add 12)
name7.1 <- url7_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name7.1 <- name7.1[3:11] 
name7.1
# Get the reviewer names (add 12)
name7.2 <- url7_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name7.2 <- name7.2[3:9] 
name7.2
# Get the reviewer names (add 10)
name7.3 <- url7_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name7.3 <- name7.3[3:12]
name7.3 


# Type of purchase 
purchase7 <- url7_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase7.1 <- url7_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase7.2 <- url7_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase7.3 <- url7_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase7.4 <- url7_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date7 <- url7_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date7.1 <- url7_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date7.2 <- url7_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date7.3 <- url7_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date7.4 <- url7_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date7.3_ <- date7.4[1:20]

# Individual ratings 
rate7 <- url7_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate7.1 <- url7_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate7.2 <- url7_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate7.3 <- url7_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate7.4 <- url7_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review7 <- url7_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review7.1 <- url7_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review7.2 <- url7_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review7.3 <- url7_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review7.3 <- review7.3[1:12]   

review7.4 <- url7_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review7.4 <- review7.4[1:10] 

# DATA FRAMES
dataname7 <- data.frame(
    ReviewerName = c(name7, name7.1, name7.2, name7.3 )[1:50]
)
dataname7

datapurchaseType7 <- data.frame(
    TypeOfPurchase = c(purchase7, purchase7.1, purchase7.2, purchase7.3, purchase7.4)[1:50]
)
datapurchaseType7

dataDate7 <- data.frame(
    Date = c(date7, date7.1, date7.2, date7.3_)[1:50]
)

rate7 <- data.frame(
    IndividualRating = c(rate7, rate7.1, rate7.2, rate7.3)[1:50]
)

# Corrected variable name
review_dataframe7 <- data.frame(
    ReviewText = c(review7, review7.1, review7.2, review7.3, review7.4)[1:50]
)
 pro7 <- rep(subsetproducts1[7],50)

combinedproduct7 <- data.frame( 
          Product = pro7,
          ReviewerName = dataname7$ReviewerName,
          TypeOfPurchase = datapurchaseType7$TypeOfPurchase,
          Date = dataDate7$Date,
          IndividualRating = rate7$IndividualRating,
          ReviewText = review_dataframe7$ReviewText
)

combinedproduct7

# Write CSV for product 7 review
write.csv(combinedproduct7, file = "7thProduct.csv")
```
FOR PRODUCT #8 
```{r}
# URLs for product 8
url8 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url8, user_agent = "educational purposes")
session

url8_ <- read_html(url8)

url8.1 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url8.1, user_agent = "educational purposes")
session

url8_.1 <- read_html(url8.1)

# This link adds 12
url8.2 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_three?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url8.2, user_agent = "educational purposes")
session

url8_.2 <- read_html(url8.2)

# This link adds 12
url8.3 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_2?ie=UTF8&filterByStar=two_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url8.3, user_agent = "educational purposes")
session

url8_.3 <- read_html(url8.3)

url8.4 <- "https://www.amazon.com.au/product-reviews/B09WMJCQRM/ref=acr_search_hist_1?ie=UTF8&filterByStar=one_star&reviewerType=all_reviews#reviews-filter-bar"
#session <- bow(url8.4, user_agent = "educational purposes")
#session

url8_.4 <- read_html(url8.4)

# Reviews for product 8
# Name/Type/Date/Individual/Review (50)

# Get the reviewer names
name8 <- url8_%>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name8

# Get the reviewer names (add 12)
name8.1 <- url8_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name8.1 <- name8.1[3:11] 
name8.1
# Get the reviewer names (add 12)
name8.2 <- url8_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name8.2 <- name8.2[3:9] 
name8.2
# Get the reviewer names (add 10)
name8.3 <- url8_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name8.3 <- name8.3[3:12]
name8.3 


# Type of purchase 
purchase8 <- url8_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase8.1 <- url8_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase8.2 <- url8_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase8.3 <- url8_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase8.4 <- url8_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date8 <- url8_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date8.1 <- url8_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date8.2 <- url8_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date8.3 <- url8_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date8.4 <- url8_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date8.3_ <- date8.4[1:20]

# Individual ratings 
rate8 <- url8_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate8.1 <- url8_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate8.2 <- url8_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate8.3 <- url8_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate8.4 <- url8_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review8 <- url8_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review8.1 <- url8_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review8.2 <- url8_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review8.3 <- url8_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review8.3 <- review8.3[1:12]   

review8.4 <- url8_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review8.4 <- review8.4[1:10]

# DATA FRAMES
dataname8 <- data.frame(
    ReviewerName = c(name8, name8.1, name8.2, name8.3)[1:50]
)

datapurchaseType8 <- data.frame(
    TypeOfPurchase = c(purchase8, purchase8.1, purchase8.2, purchase8.3, purchase8.4)[1:50]
)

dataDate8 <- data.frame(
    Date = c(date8, date8.1, date8.2, date8.3)[1:50]
)

rate8 <- data.frame(
    IndividualRating = c(rate8, rate8.1, rate8.2, rate8.3)[1:50]
)

# Corrected variable name
review_dataframe8 <- data.frame(
    ReviewText = c(review8, review8.1, review8.2, review8.3, review8.4)[1:50]
) 

 pro8 <- rep(subsetproducts1[8],50) 
 
combinedproduct8 <- data.frame( 
        Product = pro8,
        ReviewerName = dataname8$ReviewerName,
        TypeOfPurchase = datapurchaseType8$TypeOfPurchase,
        Date = dataDate8$Date,
        IndividualRating = rate8$IndividualRating,
        ReviewText = review_dataframe8$ReviewText
)

combinedproduct8

# Write CSV for product 8 review
write.csv(combinedproduct8, file = "8thProduct.csv")

```
FOR PRODUCT #9 
```{r}
url9 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url9, user_agent = "educational purposes")
session

url9_ <- read_html(url9)

url9.1 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url9.1, user_agent = "educational purposes")
session

url9_.1 <- read_html(url9.1)

# This link adds 12
url9.2 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar" 

session <- bow(url9.2, user_agent = "educational purposes")
session

url9_.2 <- read_html(url9.2)

# This link adds 12
url9.3 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_2?ie=UTF8&filterByStar=two_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url9.3, user_agent = "educational purposes")
session

url9_.3 <- read_html(url9.3)

url9.4 <- "https://www.amazon.com.au/product-reviews/B0CMZTG3YN/ref=acr_search_hist_1?ie=UTF8&filterByStar=one_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url9.4, user_agent = "educational purposes")
session

url9_.4 <- read_html(url9.4)

# Reviews for product 9
# Name/Type/Date/Individual/Review (50)

# Get the reviewer names
name9 <- url9_%>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name9

# Get the reviewer names (add 12)
name9.1 <- url9_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name9.1 <- name9.1[3:11] 
name9.1
# Get the reviewer names (add 12)
name9.2 <- url9_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name9.2 <- name9.2[3:9] 
name9.2
# Get the reviewer names (add 10)
name9.3 <- url9_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name9.3 <- name9.3[3:12]
name9.3 


# Type of purchase 
purchase9 <- url9_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase9.1 <- url9_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase9.2 <- url9_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase9.3 <- url9_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase9.4 <- url9_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date9 <- url9_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date9.1 <- url9_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date9.2 <- url9_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date9.3 <- url9_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date9.4 <- url9_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date9.3_ <- date9.4[1:20]

# Individual ratings 
rate9 <- url9_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate9.1 <- url9_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate9.2 <- url9_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate9.3 <- url9_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate9.4 <- url9_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review9 <- url9_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review9.1 <- url9_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review9.2 <- url9_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review9.3 <- url9_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review9.3 <- review9.3[1:12]   

review9.4 <- url9_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review9.4 <- review9.4[1:10]


# DATA FRAMES
dataname9 <- data.frame(
    ReviewerName = c(name9, name9.1, name9.2, name9.3)[1:50]
)

datapurchaseType9 <- data.frame(
    TypeOfPurchase = c(purchase9, purchase9.1, purchase9.2, purchase9.3, purchase9.4)[1:50]
)

dataDate9 <- data.frame(
    Date = c(date9, date9.1, date9.2, date9.3)[1:50]
)

rate9 <- data.frame(
    IndividualRating = c(rate9, rate9.1, rate9.2, rate9.3)[1:50]
)

#
review_dataframe9 <- data.frame(
    ReviewText = c(review9, review9.1, review9.2, review9.3, review9.4)[1:50]
) 
   #product name of 9
 pro9 <- rep(subsetproducts1[9],50) 
 
combinedproduct9 <- data.frame( 
          Product = pro9,
          ReviewerName = dataname9$ReviewerName,
          TypeOfPurchase = datapurchaseType9$TypeOfPurchase,
          Date = dataDate9$Date,
          IndividualRating = rate9$IndividualRating,
          ReviewText = review_dataframe9$ReviewText
)

combinedproduct9

# Write CSV for product 9 review
write.csv(combinedproduct9, file = "9thProduct.csv")
```
FOR PRODUCT #10 
```{r}
# Update URLs
url10 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url10, user_agent = "educational purposes")
session

url10_ <- read_html(url10)

url10.1 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url10.1, user_agent = "educational purposes")
session

url10_.1 <- read_html(url10.1)

# Update links (add 12)
url10.2 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url10.2, user_agent = "educational purposes")
session

url10_.2 <- read_html(url10.2)

# Update links (add 12)
url10.3 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url10.3, user_agent = "educational purposes")
session

url10_.3 <- read_html(url10.3)

url10.4 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar"
url10_.4 <- read_html(url10.4)

# Reviews for product 10
# Get the reviewer names
name10 <- url10_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name10

# Get the reviewer names (add 12)
name10.1 <- url10_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name10.1 <- name10.1[3:11] 
name10.1

# Get the reviewer names (add 12)
name10.2 <- url10_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name10.2 <- name10.2[3:9] 
name10.2

# Get the reviewer names (add 10)
name10.3 <- url10_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name10.3 <- name10.3[3:12]
name10.3

# Type of purchase 
purchase10 <- url10_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase10.1 <- url10_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase10.2 <- url10_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase10.3 <- url10_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase10.4 <- url10_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date10 <- url10_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date10.1 <- url10_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date10.2 <- url10_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date10.3 <- url10_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date10.4 <- url10_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date10.3_ <- date10.4[1:20]

# Individual ratings 
rate10 <- url10_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate10.1 <- url10_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate10.2 <- url10_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate10.3 <- url10_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate10.4 <- url10_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review10 <- url10_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review10.1 <- url10_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review10.2 <- url10_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review10.3 <- url10_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review10.3 <- review10.3[1:12]   

review10.4 <- url10_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review10.4 <- review10.4[1:10]

# DATA FRAMES
dataname10 <- data.frame(
    ReviewerName = c(name10, name10.1, name10.2, name10.3)[1:50]
)

datapurchaseType10 <- data.frame(
    TypeOfPurchase = c(purchase10, purchase10.1, purchase10.2, purchase10.3, purchase10.4)[1:50]
)

dataDate10 <- data.frame(
    Date = c(date10, date10.1, date10.2, date10.3)[1:50]
)

rate10 <- data.frame(
    IndividualRating = c(rate10, rate10.1, rate10.2, rate10.3)[1:50]
)

review_dataframe10 <- data.frame(
    ReviewText = c(review10, review10.1, review10.2, review10.3, review10.4)[1:50]
) 

 pro10 <- rep(subsetproducts1[10],50)
 
combinedproduct10 <- data.frame( 
        Product = pro10,
        ReviewerName = dataname10$ReviewerName,
        TypeOfPurchase = datapurchaseType10$TypeOfPurchase,
        Date = dataDate10$Date,
        IndividualRating = rate10$IndividualRating,
        ReviewText = review_dataframe10$ReviewText
)

combinedproduct10

# Write CSV for product 10 review
write.csv(combinedproduct10, file = "10thProduct.csv")
```
FOR PRODUCT #11
```{r}

url11 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url11, user_agent = "educational purposes")
session

url11_ <- read_html(url11)

url11.1 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url11.1, user_agent = "educational purposes")
session

url11_.1 <- read_html(url11.1)

# Update links for product 11 (add 12)
url11.2 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url11.2, user_agent = "educational purposes")
session

url11_.2 <- read_html(url11.2)

# Update links for product 11 (add 12)
url11.3 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_2?ie=UTF8&filterByStar=two_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url11.3, user_agent = "educational purposes")
session

url11_.3 <- read_html(url11.3)

url11.4 <- "https://www.amazon.com.au/product-reviews/B0CCVCPCNR/ref=acr_search_hist_1?ie=UTF8&filterByStar=one_star&reviewerType=all_reviews#reviews-filter-bar"
url11_.4 <- read_html(url11.4)

# Reviews for product 11
# Get the reviewer names
name11 <- url11_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name11

# Get the reviewer names (add 12)
name11.1 <- url11_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name11.1 <- name11.1[3:11] 
name11.1

# Get the reviewer names (add 12)
name11.2 <- url11_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name11.2 <- name11.2[3:9] 
name11.2

# Get the reviewer names (add 10)
name11.3 <- url11_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name11.3 <- name11.3[3:12]
name11.3

# Type of purchase 
purchase11 <- url11_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase11.1 <- url11_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase11.2 <- url11_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase11.3 <- url11_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase11.4 <- url11_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date11 <- url11_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date11.1 <- url11_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date11.2 <- url11_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date11.3 <- url11_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date11.4 <- url11_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date11.3_ <- date11.4[1:20]

# Individual ratings 
rate11 <- url11_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate11.1 <- url11_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate11.2 <- url11_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate11.3 <- url11_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate11.4 <- url11_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review11 <- url11_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review11.1 <- url11_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review11.2 <- url11_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review11.3 <- url11_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review11.3 <- review11.3[1:12]   

review11.4 <- url11_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review11.4 <- review11.4[1:10] 

# DATA FRAMES
dataname11 <- data.frame(
    ReviewerName = c(name11, name11.1, name11.2, name11.3)[1:50]
)

datapurchaseType11 <- data.frame(
    TypeOfPurchase = c(purchase11, purchase11.1, purchase11.2, purchase11.3, purchase11.4)[1:50]
)

dataDate11 <- data.frame(
    Date = c(date11, date11.1, date11.2, date11.3)[1:50]
)

rate11 <- data.frame(
    IndividualRating = c(rate11, rate11.1, rate11.2, rate11.3)[1:50]
)

review_dataframe11 <- data.frame(
    ReviewText = c(review11, review11.1, review11.2, review11.3, review11.4)[1:50]
) 

pro11 <- rep(subsetproducts1[11], 50)

combinedproduct11 <- data.frame( 
    Product = pro11,
    ReviewerName = dataname11$ReviewerName,
    TypeOfPurchase = datapurchaseType11$TypeOfPurchase,
    Date = dataDate11$Date,
    IndividualRating = rate11$IndividualRating,
    ReviewText = review_dataframe11$ReviewText
)

combinedproduct11

# Write CSV for product 11 review
write.csv(combinedproduct11, file = "11thProduct.csv")
```
FOR PRODUCT #12 
```{r}
url12 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url12, user_agent = "educational purposes")
session

url12_ <- read_html(url12)

url12.1 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url12.1, user_agent = "educational purposes")
session

url12_.1 <- read_html(url12.1)

# Update links (add 12)
url12.2 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url12.2, user_agent = "educational purposes")
session

url12_.2 <- read_html(url12.2)

# Update links (add 12)
url12.3 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url12.3, user_agent = "educational purposes")
session

url12_.3 <- read_html(url12.3)

url12.4 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=cm_cr_getr_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar" 

url12_.4 <- read_html(url12.4)

# Reviews for product 12
# Get the reviewer names
name12 <- url12_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name12

# Get the reviewer names (add 12)
name12.1 <- url12_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name12.1 <- name12.1[3:11] 
name12.1

# Get the reviewer names (add 12)
name12.2 <- url12_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name12.2 <- name12.2[3:9] 
name12.2

# Get the reviewer names (add 12)
name12.3 <- url12_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name12.3 <- name12.3[3:12]
name12.3

# Type of purchase 
purchase12 <- url12_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase12.1 <- url12_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase12.2 <- url12_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase12.3 <- url12_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase12.4 <- url12_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date12 <- url12_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date12.1 <- url12_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date12.2 <- url12_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date12.3 <- url12_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date12.4 <- url12_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date12.3_ <- date12.4[1:20]

# Individual ratings 
rate12 <- url12_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate12.1 <- url12_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate12.2 <- url12_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate12.3 <- url12_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate12.4 <- url12_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review12 <- url12_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review12.1 <- url12_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review12.2 <- url12_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review12.3 <- url12_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review12.3 <- review12.3[1:12]   

review12.4 <- url12_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review12.4 <- review12.4[1:10]

# DATA FRAMES
dataname12 <- data.frame(
    ReviewerName = c(name12, name12.1, name12.2, name12.3)[1:50]
)

datapurchaseType12 <- data.frame(
    TypeOfPurchase = c(purchase12, purchase12.1, purchase12.2, purchase12.3, purchase12.4)[1:50]
)

dataDate12 <- data.frame(
    Date = c(date12, date12.1, date12.2, date12.3)[1:50]
)

rate12 <- data.frame(
    IndividualRating = c(rate12, rate12.1, rate12.2, rate12.3)[1:50]
)

review_dataframe12 <- data.frame(
    ReviewText = c(review12, review12.1, review12.2, review12.3, review12.4)[1:50]
) 

pro12 <- rep(subsetproducts1[12], 50)

combinedproduct12 <- data.frame( 
    Product = pro12,
    ReviewerName = dataname12$ReviewerName,
    TypeOfPurchase = datapurchaseType12$TypeOfPurchase,
    Date = dataDate12$Date,
    IndividualRating = rate12$IndividualRating,
    ReviewText = review_dataframe12$ReviewText
)

combinedproduct12

# Write CSV for product 12 review
write.csv(combinedproduct12, file = "12thProduct.csv")
```
FOR PRODUCT #13
```{r} 
url13 <- "https://www.amazon.com.au/product-reviews/B0C73X3P8B/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url13, user_agent = "educational purposes")
session

url13_ <- read_html(url13)

url13.1 <- "https://www.amazon.com.au/product-reviews/B0C73X3P8B/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url13.1, user_agent = "educational purposes")
session

url13_.1 <- read_html(url13.1)

# Update links (add 13)
url13.2 <- "https://www.amazon.com.au/product-reviews/B0C73X3P8B/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url13.2, user_agent = "educational purposes")
session

url13_.2 <- read_html(url13.2)

# Update links (add 13)
url13.3 <- "https://www.amazon.com.au/product-reviews/B0C73X3P8B/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url13.3, user_agent = "educational purposes")
session

url13_.3 <- read_html(url13.3)

url13.4 <- "https://www.amazon.com.au/product-reviews/B0C73X3P8B/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"

url13_.4 <- read_html(url13.4)

# Reviews for product 13
# Get the reviewer names
name13 <- url13_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name13

# Get the reviewer names (add 13)
name13.1 <- url13_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name13.1 <- name13.1[3:11] 
name13.1

# Get the reviewer names (add 13)
name13.2 <- url13_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name13.2 <- name13.2[3:9] 
name13.2

# Get the reviewer names (add 13)
name13.3 <- url13_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name13.3 <- name13.3[3:12]
name13.3

# Type of purchase 
purchase13 <- url13_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase13.1 <- url13_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase13.2 <- url13_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase13.3 <- url13_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase13.4 <- url13_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date13 <- url13_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date13.1 <- url13_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date13.2 <- url13_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date13.3 <- url13_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date13.4 <- url13_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date13.3_ <- date13.4[1:20]

# Individual ratings 
rate13 <- url13_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate13.1 <- url13_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate13.2 <- url13_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate13.3 <- url13_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate13.4 <- url13_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review13 <- url13_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review13.1 <- url13_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review13.2 <- url13_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review13.3 <- url13_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review13.3 <- review13.3[1:12]   

review13.4 <- url13_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review13.4 <- review13.4[1:10] 

# DATA FRAMES
dataname13 <- data.frame(
    ReviewerName = c(name13, name13.1, name13.2, name13.3)[1:50]
)

datapurchaseType13 <- data.frame(
    TypeOfPurchase = c(purchase13, purchase13.1, purchase13.2, purchase13.3, purchase13.4)[1:50]
)

dataDate13 <- data.frame(
    Date = c(date13, date13.1, date13.2, date13.3)[1:50]
)

rate13 <- data.frame(
    IndividualRating = c(rate13, rate13.1, rate13.2, rate13.3)[1:50]
)

review_dataframe13 <- data.frame(
    ReviewText = c(review13, review13.1, review13.2, review13.3, review13.4)[1:50]
) 

pro13 <- rep(subsetproducts1[13], 50)

combinedproduct13 <- data.frame( 
    Product = pro13,
    ReviewerName = dataname13$ReviewerName,
    TypeOfPurchase = datapurchaseType13$TypeOfPurchase,
    Date = dataDate13$Date,
    IndividualRating = rate13$IndividualRating,
    ReviewText = review_dataframe13$ReviewText
)

combinedproduct13

# Write CSV for product 13 review
write.csv(combinedproduct13, file = "13thProduct.csv")
```
FOR PRODUCT #14 
```{r}
url14 <- "https://www.amazon.com.au/product-reviews/B0CM3GGZDZ/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url14, user_agent = "educational purposes")
session

url14_ <- read_html(url14)

url14.1 <- "https://www.amazon.com.au/product-reviews/B0CM3GGZDZ/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url14.1, user_agent = "educational purposes")
session

url14_.1 <- read_html(url14.1)

# Update links (add 14)
url14.2 <- "https://www.amazon.com.au/product-reviews/B0CM3GGZDZ/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url14.2, user_agent = "educational purposes")
session

url14_.2 <- read_html(url14.2)

# Update links (add 14)
url14.3 <- "https://www.amazon.com.au/product-reviews/B0CM3GGZDZ/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url14.3, user_agent = "educational purposes")
session

url14_.3 <- read_html(url14.3)

url14.4 <- "https://www.amazon.com.au/product-reviews/B0CM3GGZDZ/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url14_.4 <- read_html(url14.4)

# Reviews for product 14
# Get the reviewer names
name14 <- url14_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name14

# Get the reviewer names (add 14)
name14.1 <- url14_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name14.1 <- name14.1[3:11] 
name14.1

# Get the reviewer names (add 14)
name14.2 <- url14_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name14.2 <- name14.2[3:9] 
name14.2

# Get the reviewer names (add 14)
name14.3 <- url14_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name14.3 <- name14.3[3:12]
name14.3

# Type of purchase 
purchase14 <- url14_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase14.1 <- url14_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase14.2 <- url14_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase14.3 <- url14_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase14.4 <- url14_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date14 <- url14_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date14.1 <- url14_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date14.2 <- url14_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date14.3 <- url14_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date14.4 <- url14_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date14.3_ <- date14.4[1:20]

# Individual ratings 
rate14 <- url14_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate14.1 <- url14_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate14.2 <- url14_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate14.3 <- url14_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate14.4 <- url14_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review14 <- url14_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review14.1 <- url14_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review14.2 <- url14_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review14.3 <- url14_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review14.3 <- review14.3[1:12]   

review14.4 <- url14_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review14.4 <- review14.4[1:10] 

# DATA FRAMES
dataname14 <- data.frame(
    ReviewerName = c(name14, name14.1, name14.2, name14.3)[1:50]
)

datapurchaseType14 <- data.frame(
    TypeOfPurchase = c(purchase14, purchase14.1, purchase14.2, purchase14.3, purchase14.4)[1:50]
)

dataDate14 <- data.frame(
    Date = c(date14, date14.1, date14.2, date14.3)[1:50]
)

rate14 <- data.frame(
    IndividualRating = c(rate14, rate14.1, rate14.2, rate14.3)[1:50]
)

review_dataframe14 <- data.frame(
    ReviewText = c(review14, review14.1, review14.2, review14.3, review14.4)[1:50]
) 

pro14 <- rep(subsetproducts1[14], 50)

combinedproduct14 <- data.frame( 
    Product = pro14,
    ReviewerName = dataname14$ReviewerName,
    TypeOfPurchase = datapurchaseType14$TypeOfPurchase,
    Date = dataDate14$Date,
    IndividualRating = rate14$IndividualRating,
    ReviewText = review_dataframe14$ReviewText
)

combinedproduct14

# Write CSV for product 14 review
write.csv(combinedproduct14, file = "14thProduct.csv")
```
FOR PRODUCT #15
```{r}
url15 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url15, user_agent = "educational purposes")
session

url15_ <- read_html(url15)

url15.1 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url15.1, user_agent = "educational purposes")
session

url15_.1 <- read_html(url15.1)

# Update links (add 15)
url15.2 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url15.2, user_agent = "educational purposes")
session

url15_.2 <- read_html(url15.2)

# Update links (add 15)
url15.3 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url15.3, user_agent = "educational purposes")
session

url15_.3 <- read_html(url15.3)

url15.4 <- "https://www.amazon.com.au/product-reviews/B0C8HCSL1Z/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url15_.4 <- read_html(url15.4)

# Reviews for product 15
# Get the reviewer names
name15 <- url15_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name15

# Get the reviewer names (add 15)
name15.1 <- url15_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name15.1 <- name15.1[3:11] 
name15.1

# Get the reviewer names (add 15)
name15.2 <- url15_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name15.2 <- name15.2[3:9] 
name15.2

# Get the reviewer names (add 15)
name15.3 <- url15_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name15.3 <- name15.3[3:12]
name15.3

# Type of purchase 
purchase15 <- url15_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase15.1 <- url15_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase15.2 <- url15_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase15.3 <- url15_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase15.4 <- url15_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date15 <- url15_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date15.1 <- url15_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date15.2 <- url15_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date15.3 <- url15_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date15.4 <- url15_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date15.3_ <- date15.4[1:20]

# Individual ratings 
rate15 <- url15_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate15.1 <- url15_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate15.2 <- url15_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate15.3 <- url15_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate15.4 <- url15_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review15 <- url15_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review15.1 <- url15_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review15.2 <- url15_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review15.3 <- url15_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review15.3 <- review15.3[1:12]   

review15.4 <- url15_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review15.4 <- review15.4[1:10] 

# DATA FRAMES
dataname15 <- data.frame(
    ReviewerName = c(name15, name15.1, name15.2, name15.3)[1:50]
)

datapurchaseType15 <- data.frame(
    TypeOfPurchase = c(purchase15, purchase15.1, purchase15.2, purchase15.3, purchase15.4)[1:50]
)

dataDate15 <- data.frame(
    Date = c(date15, date15.1, date15.2, date15.3)[1:50]
)

rate15 <- data.frame(
    IndividualRating = c(rate15, rate15.1, rate15.2, rate15.3)[1:50]
)

review_dataframe15 <- data.frame(
    ReviewText = c(review15, review15.1, review15.2, review15.3, review15.4)[1:50]
) 

pro15 <- rep(subsetproducts1[15], 50)

combinedproduct15 <- data.frame( 
    Product = pro15,
    ReviewerName = dataname15$ReviewerName,
    TypeOfPurchase = datapurchaseType15$TypeOfPurchase,
    Date = dataDate15$Date,
    IndividualRating = rate15$IndividualRating,
    ReviewText = review_dataframe15$ReviewText
)

combinedproduct15

# Write CSV for product 15 review
write.csv(combinedproduct15, file = "15thProduct.csv")
``` 
FOR PRODUCT #16
```{r}
url16 <- "https://www.amazon.com.au/product-reviews/B0CD158GTP/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url16, user_agent = "educational purposes")
session

url16_ <- read_html(url16)

url16.1 <- "https://www.amazon.com.au/product-reviews/B0CD158GTP/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url16.1, user_agent = "educational purposes")
session

url16_.1 <- read_html(url16.1)

# Update links (add 16)
url16.2 <- "https://www.amazon.com.au/product-reviews/B0CD158GTP/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url16.2, user_agent = "educational purposes")
session

url16_.2 <- read_html(url16.2)

# Update links (add 16)
url16.3 <- "https://www.amazon.com.au/product-reviews/B0CD158GTP/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url16.3, user_agent = "educational purposes")
session

url16_.3 <- read_html(url16.3)

url16.4 <- "https://www.amazon.com.au/product-reviews/B0CD158GTP/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url16_.4 <- read_html(url16.4)

# Reviews for product 16
# Get the reviewer names
name16 <- url16_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name16

# Get the reviewer names (add 16)
name16.1 <- url16_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name16.1 <- name16.1[3:11] 
name16.1

# Get the reviewer names (add 16)
name16.2 <- url16_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name16.2 <- name16.2[3:9] 
name16.2

# Get the reviewer names (add 16)
name16.3 <- url16_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name16.3 <- name16.3[3:12]
name16.3

# Type of purchase 
purchase16 <- url16_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase16.1 <- url16_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase16.2 <- url16_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase16.3 <- url16_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase16.4 <- url16_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date16 <- url16_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date16.1 <- url16_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date16.2 <- url16_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date16.3 <- url16_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date16.4 <- url16_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date16.3_ <- date16.4[1:20]

# Individual ratings 
rate16 <- url16_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate16.1 <- url16_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate16.2 <- url16_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate16.3 <- url16_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate16.4 <- url16_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review16 <- url16_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review16.1 <- url16_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review16.2 <- url16_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review16.3 <- url16_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review16.3 <- review16.3[1:12]   

review16.4 <- url16_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review16.4 <- review16.4[1:10] 

# DATA FRAMES
dataname16 <- data.frame(
    ReviewerName = c(name16, name16.1, name16.2, name16.3)[1:50]
)

datapurchaseType16 <- data.frame(
    TypeOfPurchase = c(purchase16, purchase16.1, purchase16.2, purchase16.3, purchase16.4)[1:50]
)

dataDate16 <- data.frame(
    Date = c(date16, date16.1, date16.2, date16.3)[1:50]
)

rate16 <- data.frame(
    IndividualRating = c(rate16, rate16.1, rate16.2, rate16.3)[1:50]
)

review_dataframe16 <- data.frame(
    ReviewText = c(review16, review16.1, review16.2, review16.3, review16.4)[1:50]
) 

pro16 <- rep(subsetproducts1[16], 50)

combinedproduct16 <- data.frame( 
    Product = pro16,
    ReviewerName = dataname16$ReviewerName,
    TypeOfPurchase = datapurchaseType16$TypeOfPurchase,
    Date = dataDate16$Date,
    IndividualRating = rate16$IndividualRating,
    ReviewText = review_dataframe16$ReviewText
)

combinedproduct16

# Write CSV for product 16 review
write.csv(combinedproduct16, file = "16thProduct.csv")

```
FOR PRODUCT #17
```{r}
url17 <- "https://www.amazon.com.au/product-reviews/B00I3LUR42/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url17, user_agent = "educational purposes")
session

url17_ <- read_html(url17)

url17.1 <- "https://amazon.com.au/product-reviews/B00I3LUR42/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url17.1, user_agent = "educational purposes")
session

url17_.1 <- read_html(url17.1)

# Update links (add 17)
url17.2 <- "https://amazon.com.au/product-reviews/B00I3LUR42/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url17.2, user_agent = "educational purposes")
session

url17_.2 <- read_html(url17.2)

# Update links (add 17)
url17.3 <- "https://amazon.com.au/product-reviews/B00I3LUR42/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url17.3, user_agent = "educational purposes")
session

url17_.3 <- read_html(url17.3)

url17.4 <- "https://amazon.com.au/product-reviews/B00I3LUR42/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url17_.4 <- read_html(url17.4)

# Reviews for product 17
# Get the reviewer names
name17 <- url17_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name17

# Get the reviewer names (add 17)
name17.1 <- url17_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name17.1 <- name17.1[3:11] 
name17.1

# Get the reviewer names (add 17)
name17.2 <- url17_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name17.2 <- name17.2[3:9] 
name17.2

# Get the reviewer names (add 17)
name17.3 <- url17_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name17.3 <- name17.3[3:12]
name17.3

# Type of purchase 
purchase17 <- url17_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase17.1 <- url17_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase17.2 <- url17_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase17.3 <- url17_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase17.4 <- url17_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date17 <- url17_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date17.1 <- url17_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date17.2 <- url17_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date17.3 <- url17_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date17.4 <- url17_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date17.3_ <- date17.4[1:20]

# Individual ratings 
rate17 <- url17_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate17.1 <- url17_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate17.2 <- url17_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate17.3 <- url17_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate17.4 <- url17_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review17 <- url17_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review17.1 <- url17_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review17.2 <- url17_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review17.3 <- url17_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review17.3 <- review17.3[1:12]   

review17.4 <- url17_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review17.4 <- review17.4[1:10]

# DATA FRAMES
dataname17 <- data.frame(
    ReviewerName = c(name17, name17.1, name17.2, name17.3)[1:50]
)

datapurchaseType17 <- data.frame(
    TypeOfPurchase = c(purchase17, purchase17.1, purchase17.2, purchase17.3, purchase17.4)[1:50]
)

dataDate17 <- data.frame(
    Date = c(date17, date17.1, date17.2, date17.3)[1:50]
)

rate17 <- data.frame(
    IndividualRating = c(rate17, rate17.1, rate17.2, rate17.3)[1:50]
)

review_dataframe17 <- data.frame(
    ReviewText = c(review17, review17.1, review17.2, review17.3, review17.4)[1:50]
) 

pro17 <- rep(subsetproducts1[17], 50)

combinedproduct17 <- data.frame( 
    Product = pro17,
    ReviewerName = dataname17$ReviewerName,
    TypeOfPurchase = datapurchaseType17$TypeOfPurchase,
    Date = dataDate17$Date,
    IndividualRating = rate17$IndividualRating,
    ReviewText = review_dataframe17$ReviewText
)

combinedproduct17

# Write CSV for product 17 review
write.csv(combinedproduct17, file = "17thProduct.csv")
```
FOR PRODUCT #18
```{r} 
url18 <- "https://www.amazon.com.au/product-reviews/B07D794Y23/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url18, user_agent = "educational purposes")
session

url18_ <- read_html(url18)

url18.1 <- "https://www.amazon.com.au/product-reviews/B07D794Y23/ref=cm_cr_getr_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url18.1, user_agent = "educational purposes")
session

url18_.1 <- read_html(url18.1)

# Update links (add 18)
url18.2 <- "https://www.amazon.com.au/product-reviews/B07D794Y23/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url18.2, user_agent = "educational purposes")
session

url18_.2 <- read_html(url18.2)

# Update links (add 18)
url18.3 <- "https://www.amazon.com.au/product-reviews/B07D794Y23/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url18.3, user_agent = "educational purposes")
session

url18_.3 <- read_html(url18.3)

url18.4 <- "https://www.amazon.com.au/product-reviews/B07D794Y23/ref=cm_cr_getr_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url18_.4 <- read_html(url18.4)

# Reviews for product 18
# Get the reviewer names
name18 <- url18_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name18

# Get the reviewer names (add 18)
name18.1 <- url18_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name18.1 <- name18.1[3:11] 
name18.1

# Get the reviewer names (add 18)
name18.2 <- url18_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name18.2 <- name18.2[3:9] 
name18.2

# Get the reviewer names (add 18)
name18.3 <- url18_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name18.3 <- name18.3[3:12]
name18.3

# Type of purchase 
purchase18 <- url18_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase18.1 <- url18_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase18.2 <- url18_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase18.3 <- url18_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase18.4 <- url18_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date18 <- url18_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date18.1 <- url18_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date18.2 <- url18_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date18.3 <- url18_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date18.4 <- url18_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date18.3_ <- date18.4[1:20]

# Individual ratings 
rate18 <- url18_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate18.1 <- url18_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate18.2 <- url18_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate18.3 <- url18_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate18.4 <- url18_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review18 <- url18_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review18.1 <- url18_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review18.2 <- url18_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review18.3 <- url18_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review18.3 <- review18.3[1:12]   

review18.4 <- url18_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review18.4 <- review18.4[1:10] 

# DATA FRAMES
dataname18 <- data.frame(
    ReviewerName = c(name18, name18.1, name18.2, name18.3)[1:50]
)

datapurchaseType18 <- data.frame(
    TypeOfPurchase = c(purchase18, purchase18.1, purchase18.2, purchase18.3, purchase18.4)[1:50]
)

dataDate18 <- data.frame(
    Date = c(date18, date18.1, date18.2, date18.3)[1:50]
)

rate18 <- data.frame(
    IndividualRating = c(rate18, rate18.1, rate18.2, rate18.3)[1:50]
)

review_dataframe18 <- data.frame(
    ReviewText = c(review18, review18.1, review18.2, review18.3, review18.4)[1:50]
) 

pro18 <- rep(subsetproducts1[18], 50)

combinedproduct18 <- data.frame( 
    Product = pro18,
    ReviewerName = dataname18$ReviewerName,
    TypeOfPurchase = datapurchaseType18$TypeOfPurchase,
    Date = dataDate18$Date,
    IndividualRating = rate18$IndividualRating,
    ReviewText = review_dataframe18$ReviewText
)

combinedproduct18

# Write CSV for product 18 review
write.csv(combinedproduct18, file = "18thProduct.csv")
``` 
FOR PRODUCT #19
```{r} 

url19 <- "https://www.amazon.com.au/product-reviews/B09FSXY3Y8/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url19, user_agent = "educational purposes")
session

url19_ <- read_html(url19)

url19.1 <- "https://www.amazon.com.au/product-reviews/B09FSXY3Y8/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url19.1, user_agent = "educational purposes")
session

url19_.1 <- read_html(url19.1)

# Update links (add 19)
url19.2 <- "https://www.amazon.com.au/product-reviews/B09FSXY3Y8/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url19.2, user_agent = "educational purposes")
session

url19_.2 <- read_html(url19.2)

# Update links (add 19)
url19.3 <- "https://www.amazon.com.au/product-reviews/B09FSXY3Y8/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url19.3, user_agent = "educational purposes")
session

url19_.3 <- read_html(url19.3)

url19.4 <- "https://www.amazon.com.au/product-reviews/B09FSXY3Y8/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url19_.4 <- read_html(url19.4)

# Reviews for product 19
# Get the reviewer names
name19 <- url19_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name19

# Get the reviewer names (add 19)
name19.1 <- url19_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name19.1 <- name19.1[3:11] 
name19.1

# Get the reviewer names (add 19)
name19.2 <- url19_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name19.2 <- name19.2[3:9] 
name19.2

# Get the reviewer names (add 19)
name19.3 <- url19_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name19.3 <- name19.3[3:12]
name19.3

# Type of purchase 
purchase19 <- url19_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase19.1 <- url19_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase19.2 <- url19_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase19.3 <- url19_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase19.4 <- url19_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date19 <- url19_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date19.1 <- url19_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date19.2 <- url19_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date19.3 <- url19_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date19.4 <- url19_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date19.3_ <- date19.4[1:20]

# Individual ratings 
rate19 <- url19_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate19.1 <- url19_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate19.2 <- url19_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate19.3 <- url19_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate19.4 <- url19_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review19 <- url19_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review19.1 <- url19_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review19.2 <- url19_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review19.3 <- url19_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review19.3 <- review19.3[1:12]   

review19.4 <- url19_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review19.4 <- review19.4[1:10]

# DATA FRAMES
dataname19 <- data.frame(
    ReviewerName = c(name19, name19.1, name19.2, name19.3)[1:50]
)

datapurchaseType19 <- data.frame(
    TypeOfPurchase = c(purchase19, purchase19.1, purchase19.2, purchase19.3, purchase19.4)[1:50]
)

dataDate19 <- data.frame(
    Date = c(date19, date19.1, date19.2, date19.3)[1:50]
)

rate19 <- data.frame(
    IndividualRating = c(rate19, rate19.1, rate19.2, rate19.3)[1:50]
)

review_dataframe19 <- data.frame(
    ReviewText = c(review19, review19.1, review19.2, review19.3, review19.4)[1:50]
) 

pro19 <- rep(subsetproducts1[19], 50)

combinedproduct19 <- data.frame( 
    Product = pro19,
    ReviewerName = dataname19$ReviewerName,
    TypeOfPurchase = datapurchaseType19$TypeOfPurchase,
    Date = dataDate19$Date,
    IndividualRating = rate19$IndividualRating,
    ReviewText = review_dataframe19$ReviewText
)

combinedproduct19

# Write CSV for product 19 review
write.csv(combinedproduct19, file = "19thProduct.csv")
```
FOR PRODUCT #20
```{r}
url20 <- "https://www.amazon.com.au/product-reviews/B0981LVH2V/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-barr"
session <- bow(url20, user_agent = "educational purposes")
session

url20_ <- read_html(url20)

url20.1 <- "https://www.amazon.com.au/product-reviews/B0981LVH2V/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url20.1, user_agent = "educational purposes")
session

url20_.1 <- read_html(url20.1)

# Update links (add 20)
url20.2 <- "https://www.amazon.com.au/product-reviews/B0981LVH2V/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url20.2, user_agent = "educational purposes")
session

url20_.2 <- read_html(url20.2)

# Update links (add 20)
url20.3 <- "https://www.amazon.com.au/product-reviews/B0981LVH2V/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url20.3, user_agent = "educational purposes")
session

url20_.3 <- read_html(url20.3)

url20.4 <- "https://www.amazon.com.au/product-reviews/B0981LVH2V/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url20_.4 <- read_html(url20.4)

# Reviews for product 20
# Get the reviewer names
name20 <- url20_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name20

# Get the reviewer names (add 20)
name20.1 <- url20_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name20.1 <- name20.1[3:11] 
name20.1

# Get the reviewer names (add 20)
name20.2 <- url20_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name20.2 <- name20.2[3:9] 
name20.2

# Get the reviewer names (add 20)
name20.3 <- url20_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name20.3 <- name20.3[3:12]
name20.3

# Type of purchase 
purchase20 <- url20_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase20.1 <- url20_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase20.2 <- url20_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase20.3 <- url20_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase20.4 <- url20_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date20 <- url20_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date20.1 <- url20_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date20.2 <- url20_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date20.3 <- url20_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date20.4 <- url20_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date20.3_ <- date20.4[1:20]

# Individual ratings 
rate20 <- url20_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate20.1 <- url20_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate20.2 <- url20_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate20.3 <- url20_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate20.4 <- url20_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review20 <- url20_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review20.1 <- url20_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review20.2 <- url20_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review20.3 <- url20_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review20.3 <- review20.3[1:12]   

review20.4 <- url20_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review20.4 <- review20.4[1:10] 

# DATA FRAMES
dataname20 <- data.frame(
    ReviewerName = c(name20, name20.1, name20.2, name20.3)[1:50]
)

datapurchaseType20 <- data.frame(
    TypeOfPurchase = c(purchase20, purchase20.1, purchase20.2, purchase20.3, purchase20.4)[1:50]
)

dataDate20 <- data.frame(
    Date = c(date20, date20.1, date20.2, date20.3)[1:50]
)

rate20 <- data.frame(
    IndividualRating = c(rate20, rate20.1, rate20.2, rate20.3)[1:50]
)

review_dataframe20 <- data.frame(
    ReviewText = c(review20, review20.1, review20.2, review20.3, review20.4)[1:50]
) 

pro20 <- rep(subsetproducts1[20], 50)

combinedproduct20 <- data.frame( 
    Product = pro20,
    ReviewerName = dataname20$ReviewerName,
    TypeOfPurchase = datapurchaseType20$TypeOfPurchase,
    Date = dataDate20$Date,
    IndividualRating = rate20$IndividualRating,
    ReviewText = review_dataframe20$ReviewText
)

combinedproduct20

# Write CSV for product 20 review
write.csv(combinedproduct20, file = "20thProduct.csv")
```
FOR PRODUCT #21
```{r}
url21 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url21, user_agent = "educational purposes")
session

url21_ <- read_html(url21)

url21.1 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url21.1, user_agent = "educational purposes")
session

url21_.1 <- read_html(url21.1)

# Update links (add 21)
url21.2 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url21.2, user_agent = "educational purposes")
session

url21_.2 <- read_html(url21.2)

# Update links (add 21)
url21.3 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url21.3, user_agent = "educational purposes")
session

url21_.3 <- read_html(url21.3)

url21.4 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url21_.4 <- read_html(url21.4)

# Reviews for product 21
# Get the reviewer names
name21 <- url21_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name21

# Get the reviewer names (add 21)
name21.1 <- url21_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name21.1 <- name21.1[3:11] 
name21.1

# Get the reviewer names (add 21)
name21.2 <- url21_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name21.2 <- name21.2[3:9] 
name21.2

# Get the reviewer names (add 21)
name21.3 <- url21_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name21.3 <- name21.3[3:12]
name21.3

# Type of purchase 
purchase21 <- url21_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase21.1 <- url21_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase21.2 <- url21_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase21.3 <- url21_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase21.4 <- url21_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date21 <- url21_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date21.1 <- url21_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date21.2 <- url21_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date21.3 <- url21_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date21.4 <- url21_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date21.3_ <- date21.4[1:20]

# Individual ratings 
rate21 <- url21_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate21.1 <- url21_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate21.2 <- url21_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate21.3 <- url21_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate21.4 <- url21_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review21 <- url21_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review21.1 <- url21_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review21.2 <- url21_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review21.3 <- url21_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review21.3 <- review21.3[1:12]   

review21.4 <- url21_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review21.4 <- review21.4[1:10] 

# DATA FRAMES
dataname21 <- data.frame(
    ReviewerName = c(name21, name21.1, name21.2, name21.3)[1:50]
)

datapurchaseType21 <- data.frame(
    TypeOfPurchase = c(purchase21, purchase21.1, purchase21.2, purchase21.3, purchase21.4)[1:50]
)

dataDate21 <- data.frame(
    Date = c(date21, date21.1, date21.2, date21.3)[1:50]
)

rate21 <- data.frame(
    IndividualRating = c(rate21, rate21.1, rate21.2, rate21.3)[1:50]
)

review_dataframe21 <- data.frame(
    ReviewText = c(review21, review21.1, review21.2, review21.3, review21.4)[1:50]
) 

pro21 <- rep(subsetproducts1[21], 50)

combinedproduct21 <- data.frame( 
    Product = pro21,
    ReviewerName = dataname21$ReviewerName,
    TypeOfPurchase = datapurchaseType21$TypeOfPurchase,
    Date = dataDate21$Date,
    IndividualRating = rate21$IndividualRating,
    ReviewText = review_dataframe21$ReviewText
)

combinedproduct21

# Write CSV for product 21 review
write.csv(combinedproduct21, file = "21stProduct.csv")
```
FOR PRODUCT #22
```{r}
url22 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url22, user_agent = "educational purposes")
session

url22_ <- read_html(url22)

url22.1 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url22.1, user_agent = "educational purposes")
session

url22_.1 <- read_html(url22.1)

# Update links (add 22)
url22.2 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url22.2, user_agent = "educational purposes")
session

url22_.2 <- read_html(url22.2)

# Update links (add 22)
url22.3 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url22.3, user_agent = "educational purposes")
session

url22_.3 <- read_html(url22.3)

url22.4 <- "https://www.amazon.com.au/product-reviews/B07B4PDF6K/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url22_.4 <- read_html(url22.4)

# Reviews for product 22
# Get the reviewer names
name22 <- url22_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name22

# Get the reviewer names (add 22)
name22.1 <- url22_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name22.1 <- name22.1[3:11] 
name22.1

# Get the reviewer names (add 22)
name22.2 <- url22_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name22.2 <- name22.2[3:9] 
name22.2

# Get the reviewer names (add 22)
name22.3 <- url22_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name22.3 <- name22.3[3:12]
name22.3

# Type of purchase 
purchase22 <- url22_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase22.1 <- url22_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase22.2 <- url22_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase22.3 <- url22_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase22.4 <- url22_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date22 <- url22_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date22.1 <- url22_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date22.2 <- url22_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date22.3 <- url22_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date22.4 <- url22_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date22.3_ <- date22.4[1:20]

# Individual ratings 
rate22 <- url22_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate22.1 <- url22_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate22.2 <- url22_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate22.3 <- url22_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate22.4 <- url22_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review22 <- url22_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review22.1 <- url22_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review22.2 <- url22_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review22.3 <- url22_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review22.3 <- review22.3[1:12]   

review22.4 <- url22_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review22.4 <- review22.4[1:10] 

#DATA FRAMES
dataname22 <- data.frame(
    ReviewerName = c(name22, name22.1, name22.2, name22.3)[1:50]
)

datapurchaseType22 <- data.frame(
    TypeOfPurchase = c(purchase22, purchase22.1, purchase22.2, purchase22.3, purchase22.4)[1:50]
)

dataDate22 <- data.frame(
    Date = c(date22, date22.1, date22.2, date22.3)[1:50]
)

rate22 <- data.frame(
    IndividualRating = c(rate22, rate22.1, rate22.2, rate22.3)[1:50]
)

review_dataframe22 <- data.frame(
    ReviewText = c(review22, review22.1, review22.2, review22.3, review22.4)[1:50]
) 

pro22 <- rep(subsetproducts1[22], 50)

combinedproduct22 <- data.frame( 
    Product = pro22,
    ReviewerName = dataname22$ReviewerName,
    TypeOfPurchase = datapurchaseType22$TypeOfPurchase,
    Date = dataDate22$Date,
    IndividualRating = rate22$IndividualRating,
    ReviewText = review_dataframe22$ReviewText
)

combinedproduct22

# Write CSV for product 22 review
write.csv(combinedproduct22, file = "22ndProduct.csv")
#load csv for product 22
head(combinedproduct22)
```
FOR PRODUCT #23
```{r}
url23 <- "https://www.amazon.com.au/product-reviews/B08DCLRYWB/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url23, user_agent = "educational purposes")
session

url23_ <- read_html(url23)

url23.1 <- "https://www.amazon.com.au/product-reviews/B08DCLRYWB/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url23.1, user_agent = "educational purposes")
session

url23_.1 <- read_html(url23.1)

# Update links (add 23)
url23.2 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url23.2, user_agent = "educational purposes")
session

url23_.2 <- read_html(url23.2)

# Update links (add 23)
url23.3 <- "https://www.amazon.com.au/product-reviews/B08DCLRYWB/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
session <- bow(url23.3, user_agent = "educational purposes")
session

url23_.3 <- read_html(url23.3)

url23.4 <- "https://www.amazon.com.au/product-reviews/B08DCLRYWB/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
url23_.4 <- read_html(url23.4)

# Reviews for product 23
# Get the reviewer names
name23 <- url23_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name23

# Get the reviewer names (add 23)
name23.1 <- url23_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name23.1 <- name23.1[3:11] 
name23.1

# Get the reviewer names (add 23)
name23.2 <- url23_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name23.2 <- name23.2[3:9] 
name23.2

# Get the reviewer names (add 23)
name23.3 <- url23_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name23.3 <- name23.3[3:12]
name23.3

# Type of purchase 
purchase23 <- url23_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase23.1 <- url23_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase23.2 <- url23_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase23.3 <- url23_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase23.4 <- url23_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date23 <- url23_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date23.1 <- url23_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date23.2 <- url23_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date23.3 <- url23_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date23.4 <- url23_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date23.3_ <- date23.4[1:20]

# Individual ratings 
rate23 <- url23_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate23.1 <- url23_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate23.2 <- url23_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate23.3 <- url23_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate23.4 <- url23_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review23 <- url23_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review23.1 <- url23_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review23.2 <- url23_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review23.3 <- url23_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review23.3 <- review23.3[1:12]   

review23.4 <- url23_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review23.4 <- review23.4[1:10]

# DATA FRAMES
dataname23 <- data.frame(
    ReviewerName = c(name23, name23.1, name23.2, name23.3)[1:50]
)

datapurchaseType23 <- data.frame(
    TypeOfPurchase = c(purchase23, purchase23.1, purchase23.2, purchase23.3, purchase23.4)[1:50]
)

dataDate23 <- data.frame(
    Date = c(date23, date23.1, date23.2, date23.3)[1:50]
)

rate23 <- data.frame(
    IndividualRating = c(rate23, rate23.1, rate23.2, rate23.3)[1:50]
)

review_dataframe23 <- data.frame(
    ReviewText = c(review23, review23.1, review23.2, review23.3, review23.4)[1:50]
) 

pro23 <- rep(subsetproducts1[23], 50)

combinedproduct23 <- data.frame( 
    Product = pro23,
    ReviewerName = dataname23$ReviewerName,
    TypeOfPurchase = datapurchaseType23$TypeOfPurchase,
    Date = dataDate23$Date,
    IndividualRating = rate23$IndividualRating,
    ReviewText = review_dataframe23$ReviewText
)

combinedproduct23

# Write CSV for product 23 review
write.csv(combinedproduct23, file = "23rdProduct.csv")


#load 
head(combinedproduct23)

```
PRODUCT 24
```{r}
url24 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url24, user_agent = "educational purposes")
session

url24_ <- read_html(url24)

url24.1 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url24.1, user_agent = "educational purposes")
session

url24_.1 <- read_html(url24.1)

# Update links (add 24)
url24.2 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url24.2, user_agent = "educational purposes")
session

url24_.2 <- read_html(url24.2)

# Update links (add 24)
url24.3 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url24.3, user_agent = "educational purposes")
session

url24_.3 <- read_html(url24.3)

url24.4 <- "https://www.amazon.com.au/product-reviews/B0CMZVZPCF/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url24_.4 <- read_html(url24.4)

# Reviews for product 24
# Get the reviewer names
name24 <- url24_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name24

# Get the reviewer names (add 24)
name24.1 <- url24_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name24.1 <- name24.1[3:11] 
name24.1

# Get the reviewer names (add 24)
name24.2 <- url24_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name24.2 <- name24.2[3:9] 
name24.2

# Get the reviewer names (add 24)
name24.3 <- url24_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name24.3 <- name24.3[3:12]
name24.3

# Type of purchase 
purchase24 <- url24_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase24.1 <- url24_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase24.2 <- url24_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase24.3 <- url24_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase24.4 <- url24_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date24 <- url24_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date24.1 <- url24_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date24.2 <- url24_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date24.3 <- url24_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date24.4 <- url24_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date24.3_ <- date24.4[1:20]

# Individual ratings 
rate24 <- url24_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate24.1 <- url24_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate24.2 <- url24_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate24.3 <- url24_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate24.4 <- url24_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review24 <- url24_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review24.1 <- url24_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review24.2 <- url24_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review24.3 <- url24_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review24.3 <- review24.3[1:12]   

review24.4 <- url24_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review24.4 <- review24.4[1:10]

# DATA FRAMES
dataname24 <- data.frame(
    ReviewerName = c(name24, name24.1, name24.2, name24.3)[1:50]
)

datapurchaseType24 <- data.frame(
    TypeOfPurchase = c(purchase24, purchase24.1, purchase24.2, purchase24.3, purchase24.4)[1:50]
)

dataDate24 <- data.frame(
    Date = c(date24, date24.1, date24.2, date24.3)[1:50]
)

rate24 <- data.frame(
    IndividualRating = c(rate24, rate24.1, rate24.2, rate24.3)[1:50]
)

review_dataframe24 <- data.frame(
    ReviewText = c(review24, review24.1, review24.2, review24.3, review24.4)[1:50]
) 

pro24 <- rep(subsetproducts1[24], 50)

combinedproduct24 <- data.frame( 
    Product = pro24,
    ReviewerName = dataname24$ReviewerName,
    TypeOfPurchase = datapurchaseType24$TypeOfPurchase,
    Date = dataDate24$Date,
    IndividualRating = rate24$IndividualRating,
    ReviewText = review_dataframe24$ReviewText
)

combinedproduct24

# Write CSV for product 24 review
write.csv(combinedproduct24, file = "24thProduct.csv")
 
#load the csv for product 24
head(combinedproduct24)
```
PRODUCT 25
```{r}
url25 <- "https://www.amazon.com.au/product-reviews/B09CGM6FJ7/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url25, user_agent = "educational purposes")
session

url25_ <- read_html(url25)

url25.1 <- "https://www.amazon.com.au/product-reviews/B09CGM6FJ7/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url25.1, user_agent = "educational purposes")
session

url25_.1 <- read_html(url25.1)

#links (add 25)
url25.2 <- "https://www.amazon.com.au/product-reviews/B09CGM6FJ7/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url25.2, user_agent = "educational purposes")
session

url25_.2 <- read_html(url25.2)

#links (add 25)
url25.3 <- "https://www.amazon.com.au/product-reviews/B09CGM6FJ7/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url25.3, user_agent = "educational purposes")
session

url25_.3 <- read_html(url25.3)

url25.4 <- "https://www.amazon.com.au/product-reviews/B09CGM6FJ7/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url25_.4 <- read_html(url25.4)

# Reviews for product 25
# Get the reviewer names
name25 <- url25_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name25

# Get the reviewer names (add 25)
name25.1 <- url25_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name25.1 <- name25.1[3:11] 
name25.1

# Get the reviewer names (add 25)
name25.2 <- url25_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name25.2 <- name25.2[3:9] 
name25.2

# Get the reviewer names (add 25)
name25.3 <- url25_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name25.3 <- name25.3[3:12]
name25.3

# Type of purchase 
purchase25 <- url25_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase25.1 <- url25_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase25.2 <- url25_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase25.3 <- url25_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase25.4 <- url25_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date25 <- url25_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date25.1 <- url25_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date25.2 <- url25_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date25.3 <- url25_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date25.4 <- url25_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date25.3_ <- date25.4[1:20]

# Individual ratings 
rate25 <- url25_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate25.1 <- url25_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate25.2 <- url25_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate25.3 <- url25_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate25.4 <- url25_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review25 <- url25_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review25.1 <- url25_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review25.2 <- url25_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review25.3 <- url25_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review25.3 <- review25.3[1:12]   

review25.4 <- url25_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review25.4 <- review25.4[1:10] 

# DATA FRAMES
dataname25 <- data.frame(
    ReviewerName = c(name25, name25.1, name25.2, name25.3)[1:50]
)

datapurchaseType25 <- data.frame(
    TypeOfPurchase = c(purchase25, purchase25.1, purchase25.2, purchase25.3, purchase25.4)[1:50]
)

dataDate25 <- data.frame(
    Date = c(date25, date25.1, date25.2, date25.3)[1:50]
)

rate25 <- data.frame(
    IndividualRating = c(rate25, rate25.1, rate25.2, rate25.3)[1:50]
)

review_dataframe25 <- data.frame(
    ReviewText = c(review25, review25.1, review25.2, review25.3, review25.4)[1:50]
) 

pro25 <- rep(subsetproducts2[1], 50)

combinedproduct25 <- data.frame( 
    Product = pro25,
    ReviewerName = dataname25$ReviewerName,
    TypeOfPurchase = datapurchaseType25$TypeOfPurchase,
    Date = dataDate25$Date,
    IndividualRating = rate25$IndividualRating,
    ReviewText = review_dataframe25$ReviewText
)

combinedproduct25

# Write CSV for product 25 review
write.csv(combinedproduct25, file = "25thProduct.csv")
#load csv
head(combinedproduct25)
```
PRODUCT 26
```{r}

url26 <- "https://www.amazon.com.au/product-reviews/B084ZL7T9H/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url26, user_agent = "educational purposes")
session

url26_ <- read_html(url26)

url26.1 <- "https://www.amazon.com.au/product-reviews/B084ZL7T9H/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url26.1, user_agent = "educational purposes")
session

url26_.1 <- read_html(url26.1)

# Update links (add 26)
url26.2 <- "https://www.amazon.com.au/product-reviews/B084ZL7T9H/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url26.2, user_agent = "educational purposes")
session

url26_.2 <- read_html(url26.2)

# Update links (add 26)
url26.3 <- "https://www.amazon.com.au/product-reviews/B084ZL7T9H/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url26.3, user_agent = "educational purposes")
session

url26_.3 <- read_html(url26.3)

url26.4 <- "https://www.amazon.com.au/product-reviews/B084ZL7T9H/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url26_.4 <- read_html(url26.4)

# Reviews for product 26
# Get the reviewer names
name26 <- url26_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name26

# Get the reviewer names (add 26)
name26.1 <- url26_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name26.1 <- name26.1[3:11] 
name26.1

# Get the reviewer names (add 26)
name26.2 <- url26_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name26.2 <- name26.2[3:9] 
name26.2

# Get the reviewer names (add 26)
name26.3 <- url26_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name26.3 <- name26.3[3:12]
name26.3

# Type of purchase 
purchase26 <- url26_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase26.1 <- url26_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase26.2 <- url26_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase26.3 <- url26_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase26.4 <- url26_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date26 <- url26_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date26.1 <- url26_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date26.2 <- url26_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date26.3 <- url26_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date26.4 <- url26_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date26.3_ <- date26.4[1:20]

# Individual ratings 
rate26 <- url26_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate26.1 <- url26_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate26.2 <- url26_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate26.3 <- url26_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate26.4 <- url26_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review26 <- url26_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review26.1 <- url26_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review26.2 <- url26_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review26.3 <- url26_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review26.3 <- review26.3[1:12]   

review26.4 <- url26_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review26.4 <- review26.4[1:10]



# DATA FRAMES
dataname26 <- data.frame(
    ReviewerName = c(name26, name26.1, name26.2, name26.3)[1:50]
)

datapurchaseType26 <- data.frame(
    TypeOfPurchase = c(purchase26, purchase26.1, purchase26.2, purchase26.3, purchase26.4)[1:50]
)

dataDate26 <- data.frame(
    Date = c(date26, date26.1, date26.2, date26.3)[1:50]
)

rate26 <- data.frame(
    IndividualRating = c(rate26, rate26.1, rate26.2, rate26.3)[1:50]
)

review_dataframe26 <- data.frame(
    ReviewText = c(review26, review26.1, review26.2, review26.3, review26.4)[1:50]
) 

pro26 <- rep(subsetproducts1[2], 50)

combinedproduct26 <- data.frame( 
    Product = pro26,
    ReviewerName = dataname26$ReviewerName,
    TypeOfPurchase = datapurchaseType26$TypeOfPurchase,
    Date = dataDate26$Date,
    IndividualRating = rate26$IndividualRating,
    ReviewText = review_dataframe26$ReviewText
)

combinedproduct26

# Write CSV for product 26 review
write.csv(combinedproduct26, file = "26thProduct.csv") 

#load csv file 
head(combinedproduct26)
```
PRODUCT 27
```{r}
url27 <- "https://www.amazon.com.au/product-reviews/B0BM45DCQV/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url27, user_agent = "educational purposes")
session

url27_ <- read_html(url27)

url27.1 <- "https://www.amazon.com.au/product-reviews/B0BM45DCQV/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url27.1, user_agent = "educational purposes")
session

url27_.1 <- read_html(url27.1)

# Update links (add 27)
url27.2 <- "https://www.amazon.com.au/product-reviews/B0BM45DCQV/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url27.2, user_agent = "educational purposes")
session

url27_.2 <- read_html(url27.2)

# Update links (add 27)
url27.3 <- "https://www.amazon.com.au/product-reviews/B0BM45DCQV/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url27.3, user_agent = "educational purposes")
session

url27_.3 <- read_html(url27.3)

url27.4 <- "https://www.amazon.com.au/product-reviews/B0BM45DCQV/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url27_.4 <- read_html(url27.4)

# Reviews for product 27
# Get the reviewer names
name27 <- url27_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name27

# Get the reviewer names (add 27)
name27.1 <- url27_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name27.1 <- name27.1[3:11] 
name27.1

# Get the reviewer names (add 27)
name27.2 <- url27_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name27.2 <- name27.2[3:9] 
name27.2

# Get the reviewer names (add 27)
name27.3 <- url27_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name27.3 <- name27.3[3:12]
name27.3

# Type of purchase 
purchase27 <- url27_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase27.1 <- url27_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase27.2 <- url27_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase27.3 <- url27_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase27.4 <- url27_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date27 <- url27_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date27.1 <- url27_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date27.2 <- url27_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date27.3 <- url27_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date27.4 <- url27_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date27.3_ <- date27.4[1:20]

# Individual ratings 
rate27 <- url27_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate27.1 <- url27_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate27.2 <- url27_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate27.3 <- url27_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate27.4 <- url27_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review27 <- url27_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review27.1 <- url27_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review27.2 <- url27_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review27.3 <- url27_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review27.3 <- review27.3[1:12]   

review27.4 <- url27_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review27.4 <- review27.4[1:10]


# DATA FRAMES
dataname27 <- data.frame(
    ReviewerName = c(name27, name27.1, name27.2, name27.3)[1:50]
)

datapurchaseType27 <- data.frame(
    TypeOfPurchase = c(purchase27, purchase27.1, purchase27.2, purchase27.3, purchase27.4)[1:50]
)

dataDate27 <- data.frame(
    Date = c(date27, date27.1, date27.2, date27.3)[1:50]
)

rate27 <- data.frame(
    IndividualRating = c(rate27, rate27.1, rate27.2, rate27.3)[1:50]
)

review_dataframe27 <- data.frame(
    ReviewText = c(review27, review27.1, review27.2, review27.3, review27.4)[1:50]
) 

pro27 <- rep(subsetproducts2[3], 50)

combinedproduct27 <- data.frame( 
    Product = pro27,
    ReviewerName = dataname27$ReviewerName,
    TypeOfPurchase = datapurchaseType27$TypeOfPurchase,
    Date = dataDate27$Date,
    IndividualRating = rate27$IndividualRating,
    ReviewText = review_dataframe27$ReviewText
)

combinedproduct27

# Write CSV for product 27 review
write.csv(combinedproduct27, file = "27thProduct.csv")
#load csv
head(combinedproduct27)
```
PRODUCT 28
```{r}
url28 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url28, user_agent = "educational purposes")
session

url28_ <- read_html(url28)

url28.1 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url28.1, user_agent = "educational purposes")
session

url28_.1 <- read_html(url28.1)

# Update links (add 28)
url28.2 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url28.2, user_agent = "educational purposes")
session

url28_.2 <- read_html(url28.2)

# Update links (add 28)
url28.3 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url28.3, user_agent = "educational purposes")
session

url28_.3 <- read_html(url28.3)

url28.4 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar"
url28_.4 <- read_html(url28.4)

# Reviews for product 28
# Get the reviewer names
name28 <- url28_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name28

# Get the reviewer names (add 28)
name28.1 <- url28_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name28.1 <- name28.1[3:11] 
name28.1

# Get the reviewer names (add 28)
name28.2 <- url28_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name28.2 <- name28.2[3:9] 
name28.2

# Get the reviewer names (add 28)
name28.3 <- url28_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name28.3 <- name28.3[3:12]
name28.3

# Type of purchase 
purchase28 <- url28_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase28.1 <- url28_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase28.2 <- url28_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase28.3 <- url28_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase28.4 <- url28_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date28 <- url28_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date28.1 <- url28_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date28.2 <- url28_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date28.3 <- url28_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date28.4 <- url28_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date28.3_ <- date28.4[1:20]

# Individual ratings 
rate28 <- url28_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate28.1 <- url28_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate28.2 <- url28_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate28.3 <- url28_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate28.4 <- url28_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review28 <- url28_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review28.1 <- url28_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review28.2 <- url28_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review28.3 <- url28_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review28.3 <- review28.3[1:12]   

review28.4 <- url28_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review28.4 <- review28.4[1:10]

# DATA FRAMES
dataname28 <- data.frame(
    ReviewerName = c(name28, name28.1, name28.2, name28.3)[1:50]
)

datapurchaseType28 <- data.frame(
    TypeOfPurchase = c(purchase28, purchase28.1, purchase28.2, purchase28.3, purchase28.4)[1:50]
)

dataDate28 <- data.frame(
    Date = c(date28, date28.1, date28.2, date28.3)[1:50]
)

rate28 <- data.frame(
    IndividualRating = c(rate28, rate28.1, rate28.2, rate28.3)[1:50]
)

review_dataframe28 <- data.frame(
    ReviewText = c(review28, review28.1, review28.2, review28.3, review28.4)[1:50]
) 

pro28 <- rep(subsetproducts2[4], 50)

combinedproduct28 <- data.frame( 
    Product = pro28,
    ReviewerName = dataname28$ReviewerName,
    TypeOfPurchase = datapurchaseType28$TypeOfPurchase,
    Date = dataDate28$Date,
    IndividualRating = rate28$IndividualRating,
    ReviewText = review_dataframe28$ReviewText
)

combinedproduct28

# Write CSV for product 28 review
write.csv(combinedproduct28, file = "28thProduct.csv")

#load csv 
head(combinedproduct28)
```
PRODUCT 29 
```{r}
url29 <- "https://www.amazon.com.au/product-reviews/B09TXXG545/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url29, user_agent = "educational purposes")
session

url29_ <- read_html(url29)

url29.1 <- "https://www.amazon.com.au/product-reviews/B09TXXG545/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url29.1, user_agent = "educational purposes")
session

url29_.1 <- read_html(url29.1)

# Update links (add 29)
url29.2 <- "https://www.amazon.com.au/product-reviews/B09TXXG545/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url29.2, user_agent = "educational purposes")
session

url29_.2 <- read_html(url29.2)

# Update links (add 29)
url29.3 <- "https://www.amazon.com.au/product-reviews/B09TXXG545/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url29.3, user_agent = "educational purposes")
session

url29_.3 <- read_html(url29.3)

url29.4 <- "https://www.amazon.com.au/product-reviews/B09TXXG545/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url29_.4 <- read_html(url29.4)

# Reviews for product 29
# Get the reviewer names
name29 <- url29_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name29

# Get the reviewer names (add 29)
name29.1 <- url29_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name29.1 <- name29.1[3:11] 
name29.1

# Get the reviewer names (add 29)
name29.2 <- url29_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name29.2 <- name29.2[3:9] 
name29.2

# Get the reviewer names (add 29)
name29.3 <- url29_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name29.3 <- name29.3[3:12]
name29.3

# Type of purchase 
purchase29 <- url29_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase29.1 <- url29_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase29.2 <- url29_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase29.3 <- url29_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase29.4 <- url29_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date29 <- url29_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date29.1 <- url29_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date29.2 <- url29_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date29.3 <- url29_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date29.4 <- url29_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date29.3_ <- date29.4[1:20]

# Individual ratings 
rate29 <- url29_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate29.1 <- url29_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate29.2 <- url29_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate29.3 <- url29_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate29.4 <- url29_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review29 <- url29_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review29.1 <- url29_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review29.2 <- url29_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review29.3 <- url29_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review29.3 <- review29.3[1:12]   

review29.4 <- url29_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review29.4 <- review29.4[1:10]

# DATA FRAMES
dataname29 <- data.frame(
    ReviewerName = c(name29, name29.1, name29.2, name29.3)[1:50]
)

datapurchaseType29 <- data.frame(
    TypeOfPurchase = c(purchase29, purchase29.1, purchase29.2, purchase29.3, purchase29.4)[1:50]
)

dataDate29 <- data.frame(
    Date = c(date29, date29.1, date29.2, date29.3)[1:50]
)

rate29 <- data.frame(
    IndividualRating = c(rate29, rate29.1, rate29.2, rate29.3)[1:50]
)

review_dataframe29 <- data.frame(
    ReviewText = c(review29, review29.1, review29.2, review29.3, review29.4)[1:50]
) 

pro29 <- rep(subsetproducts2[5], 50)

combinedproduct29 <- data.frame( 
    Product = pro29,
    ReviewerName = dataname29$ReviewerName,
    TypeOfPurchase = datapurchaseType29$TypeOfPurchase,
    Date = dataDate29$Date,
    IndividualRating = rate29$IndividualRating,
    ReviewText = review_dataframe29$ReviewText
)

combinedproduct29

# Write CSV for product 29 review
write.csv(combinedproduct29, file = "29thProduct.csv")
#Load csv 
head(combinedproduct29)

```
PRODUCT #30 
```{r}
url30 <- "https://www.amazon.com.au/product-reviews/B0BPMCZWJP/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url30, user_agent = "educational purposes")
session

url30_ <- read_html(url30)

url30.1 <- "https://www.amazon.com.au/product-reviews/B0BPMCZWJP/ref=cm_cr_getr_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url30.1, user_agent = "educational purposes")
session

url30_.1 <- read_html(url30.1)

# Update links (add 30)
url30.2 <- "https://www.amazon.com.au/product-reviews/B0BPMCZWJP/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url30.2, user_agent = "educational purposes")
session

url30_.2 <- read_html(url30.2)

# Update links (add 30)
url30.3 <- "https://www.amazon.com.au/product-reviews/B0BPMCZWJP/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url30.3, user_agent = "educational purposes")
session

url30_.3 <- read_html(url30.3)

url30.4 <- "https://www.amazon.com.au/product-reviews/B0BPMCZWJP/ref=cm_cr_getr_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url30_.4 <- read_html(url30.4)

# Reviews for product 30
# Get the reviewer names
name30 <- url30_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name30

# Get the reviewer names (add 30)
name30.1 <- url30_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name30.1 <- name30.1[3:11] 
name30.1

# Get the reviewer names (add 30)
name30.2 <- url30_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name30.2 <- name30.2[3:9] 
name30.2

# Get the reviewer names (add 30)
name30.3 <- url30_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name30.3 <- name30.3[3:12]
name30.3

# Type of purchase 
purchase30 <- url30_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase30.1 <- url30_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase30.2 <- url30_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase30.3 <- url30_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase30.4 <- url30_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date30 <- url30_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date30.1 <- url30_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date30.2 <- url30_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date30.3 <- url30_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date30.4 <- url30_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date30.3_ <- date30.4[1:20]

# Individual ratings 
rate30 <- url30_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate30.1 <- url30_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate30.2 <- url30_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate30.3 <- url30_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate30.4 <- url30_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review30 <- url30_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review30.1 <- url30_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review30.2 <- url30_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review30.3 <- url30_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review30.3 <- review30.3[1:12]   

review30.4 <- url30_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review30.4 <- review30.4[1:10]

# DATA FRAMES
dataname30 <- data.frame(
    ReviewerName = c(name30, name30.1, name30.2, name30.3)[1:50]
)

datapurchaseType30 <- data.frame(
    TypeOfPurchase = c(purchase30, purchase30.1, purchase30.2, purchase30.3, purchase30.4)[1:50]
)

dataDate30 <- data.frame(
    Date = c(date30, date30.1, date30.2, date30.3)[1:50]
)

rate30 <- data.frame(
    IndividualRating = c(rate30, rate30.1, rate30.2, rate30.3)[1:50]
)

review_dataframe30 <- data.frame(
    ReviewText = c(review30, review30.1, review30.2, review30.3, review30.4)[1:50]
) 

pro30 <- rep(subsetproducts2[6], 50)

combinedproduct30 <- data.frame( 
    Product = pro30,
    ReviewerName = dataname30$ReviewerName,
    TypeOfPurchase = datapurchaseType30$TypeOfPurchase,
    Date = dataDate30$Date,
    IndividualRating = rate30$IndividualRating,
    ReviewText = review_dataframe30$ReviewText
)

combinedproduct30

# Write CSV for product 30 review
write.csv(combinedproduct30, file = "30thProduct.csv")
#load csv
head(combinedproduct30)

```

FOR PRODUCT #31
```{r}
url31 <- "https://www.amazon.com.au/product-reviews/B09BN9WBTQ/ref=cm_cr_unknown?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=1#reviews-filter-bar"
session <- bow(url31, user_agent = "educational purposes")
session

url31_ <- read_html(url31)

url31.1 <- "https://www.amazon.com.au/product-reviews/B09BN9WBTQ/ref=cm_cr_getr_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url31.1, user_agent = "educational purposes")
session

url31_.1 <- read_html(url31.1)

# Update links (add 31)
url31.2 <- "https://www.amazon.com.au/product-reviews/B09BN9WBTQ/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url31.2, user_agent = "educational purposes")
session

url31_.2 <- read_html(url31.2)

# Update links (add 31)
url31.3 <- "https://www.amazon.com.au/product-reviews/B09BN9WBTQ/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url31.3, user_agent = "educational purposes")
session

url31_.3 <- read_html(url31.3)

url31.4 <- "https://www.amazon.com.au/product-reviews/B09BN9WBTQ/ref=cm_cr_getr_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url31_.4 <- read_html(url31.4)

# Reviews for product 31
# Get the reviewer names
name31 <- url31_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name31

# Get the reviewer names (add 31)
name31.1 <- url31_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name31.1 <- name31.1[3:11] 
name31.1

# Get the reviewer names (add 31)
name31.2 <- url31_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name31.2 <- name31.2[3:9] 
name31.2

# Get the reviewer names (add 31)
name31.3 <- url31_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name31.3 <- name31.3[3:12]
name31.3

# Type of purchase 
purchase31 <- url31_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase31.1 <- url31_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase31.2 <- url31_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase31.3 <- url31_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase31.4 <- url31_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date31 <- url31_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date31.1 <- url31_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date31.2 <- url31_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date31.3 <- url31_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date31.4 <- url31_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date31.3_ <- date31.4[1:20]

# Individual ratings 
rate31 <- url31_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate31.1 <- url31_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate31.2 <- url31_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate31.3 <- url31_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate31.4 <- url31_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review31 <- url31_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review31.1 <- url31_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review31.2 <- url31_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review31.3 <- url31_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review31.3 <- review31.3[1:12]   

review31.4 <- url31_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review31.4 <- review31.4[1:10]

# DATA FRAMES
dataname31 <- data.frame(
    ReviewerName = c(name31, name31.1, name31.2, name31.3)[1:50]
)

datapurchaseType31 <- data.frame(
    TypeOfPurchase = c(purchase31, purchase31.1, purchase31.2, purchase31.3, purchase31.4)[1:50]
)

dataDate31 <- data.frame(
    Date = c(date31, date31.1, date31.2, date31.3)[1:50]
)

rate31 <- data.frame(
    IndividualRating = c(rate31, rate31.1, rate31.2, rate31.3)[1:50]
)

review_dataframe31 <- data.frame(
    ReviewText = c(review31, review31.1, review31.2, review31.3, review31.4)[1:50]
) 
#titlproduct
pro31 <- rep(subsetproducts2[7], 50)

combinedproduct31 <- data.frame( 
    Product = pro31,
    ReviewerName = dataname31$ReviewerName,
    TypeOfPurchase = datapurchaseType31$TypeOfPurchase,
    Date = dataDate31$Date,
    IndividualRating = rate31$IndividualRating,
    ReviewText = review_dataframe31$ReviewText
)

combinedproduct31

# Write CSV for product 31 review
write.csv(combinedproduct31, file = "31stProduct.csv")

#load 
head(combinedproduct31)
```
FOR PRODUCT #32
```{r}
url32 <- "https://www.amazon.com.au/product-reviews/B07Q1BTKZT/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url32, user_agent = "educational purposes")
session

url32_ <- read_html(url32)

url32.1 <- "https://www.amazon.com.au/product-reviews/B07Q1BTKZT/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url32.1, user_agent = "educational purposes")
session

url32_.1 <- read_html(url32.1)

# Update links (add 32)
url32.2 <- "https://www.amazon.com.au/product-reviews/B07Q1BTKZT/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url32.2, user_agent = "educational purposes")
session

url32_.2 <- read_html(url32.2)

# Update links (add 32)
url32.3 <- "https://www.amazon.com.au/product-reviews/B07Q1BTKZT/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url32.3, user_agent = "educational purposes")
session

url32_.3 <- read_html(url32.3)

url32.4 <- "https://www.amazon.com.au/product-reviews/B07Q1BTKZT/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url32_.4 <- read_html(url32.4)

# Reviews for product 32
# Get the reviewer names
name32 <- url32_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name32

# Get the reviewer names (add 32)
name32.1 <- url32_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name32.1 <- name32.1[3:11] 
name32.1

# Get the reviewer names (add 32)
name32.2 <- url32_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name32.2 <- name32.2[3:9] 
name32.2

# Get the reviewer names (add 32)
name32.3 <- url32_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name32.3 <- name32.3[3:12]
name32.3

# Type of purchase 
purchase32 <- url32_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase32.1 <- url32_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase32.2 <- url32_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase32.3 <- url32_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase32.4 <- url32_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date32 <- url32_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date32.1 <- url32_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date32.2 <- url32_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date32.3 <- url32_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date32.4 <- url32_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date32.3_ <- date32.4[1:20]

# Individual ratings 
rate32 <- url32_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate32.1 <- url32_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate32.2 <- url32_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate32.3 <- url32_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate32.4 <- url32_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review32 <- url32_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review32.1 <- url32_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review32.2 <- url32_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review32.3 <- url32_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review32.3 <- review32.3[1:12]   

review32.4 <- url32_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review32.4 <- review32.4[1:10] 

dataname32 <- data.frame(
    ReviewerName = c(name32, name32.1, name32.2, name32.3)[1:50]
)

datapurchaseType32 <- data.frame(
    TypeOfPurchase = c(purchase32, purchase32.1, purchase32.2, purchase32.3, purchase32.4)[1:50]
)

dataDate32 <- data.frame(
    Date = c(date32, date32.1, date32.2, date32.3)[1:50]
)

rate32 <- data.frame(
    IndividualRating = c(rate32, rate32.1, rate32.2, rate32.3)[1:50]
)

review_dataframe32 <- data.frame(
    ReviewText = c(review32, review32.1, review32.2, review32.3, review32.4)[1:50]
) 

pro32 <- rep(subsetproducts2[8], 50)

combinedproduct32 <- data.frame( 
    Product = pro32,
    ReviewerName = dataname32$ReviewerName,
    TypeOfPurchase = datapurchaseType32$TypeOfPurchase,
    Date = dataDate32$Date,
    IndividualRating = rate32$IndividualRating,
    ReviewText = review_dataframe32$ReviewText
)

combinedproduct32

# Write CSV for product 32 review
write.csv(combinedproduct32, file = "32ndProduct.csv")
```
FOR PRODUCT #33
```{r}
url33 <- "https://www.amazon.com.au/product-reviews/B0CGZJDY84/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url33, user_agent = "educational purposes")
session

url33_ <- read_html(url33)

url33.1 <- "https://www.amazon.com.au/product-reviews/B0CGZJDY84/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url33.1, user_agent = "educational purposes")
session

url33_.1 <- read_html(url33.1)

# Update links (add 33)
url33.2 <- "https://www.amazon.com.au/product-reviews/B0CGZJDY84/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url33.2, user_agent = "educational purposes")
session

url33_.2 <- read_html(url33.2)

# Update links (add 33)
url33.3 <- "https://www.amazon.com.au/product-reviews/B0CGZJDY84/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url33.3, user_agent = "educational purposes")
session

url33_.3 <- read_html(url33.3)

url33.4 <- "https://www.amazon.com.au/product-reviews/B0CGZJDY84/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url33_.4 <- read_html(url33.4)

# Reviews for product 33
# Get the reviewer names
name33 <- url33_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name33

# Get the reviewer names (add 33)
name33.1 <- url33_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name33.1 <- name33.1[3:11] 
name33.1

# Get the reviewer names (add 33)
name33.2 <- url33_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name33.2 <- name33.2[3:9] 
name33.2

# Get the reviewer names (add 33)
name33.3 <- url33_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name33.3 <- name33.3[3:12]
name33.3

# Type of purchase 
purchase33 <- url33_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase33.1 <- url33_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase33.2 <- url33_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase33.3 <- url33_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase33.4 <- url33_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date33 <- url33_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date33.1 <- url33_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date33.2 <- url33_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date33.3 <- url33_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date33.4 <- url33_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date33.3_ <- date33.4[1:20]

# Individual ratings 
rate33 <- url33_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate33.1 <- url33_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate33.2 <- url33_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate33.3 <- url33_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate33.4 <- url33_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review33 <- url33_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review33.1 <- url33_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review33.2 <- url33_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review33.3 <- url33_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review33.3 <- review33.3[1:12]   

review33.4 <- url33_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review33.4 <- review33.4[1:10]

# DATA FRAMES
dataname33 <- data.frame(
    ReviewerName = c(name33, name33.1, name33.2, name33.3)[1:50]
)

datapurchaseType33 <- data.frame(
    TypeOfPurchase = c(purchase33, purchase33.1, purchase33.2, purchase33.3, purchase33.4)[1:50]
)

dataDate33 <- data.frame(
    Date = c(date33, date33.1, date33.2, date33.3)[1:50]
)

rate33 <- data.frame(
    IndividualRating = c(rate33, rate33.1, rate33.2, rate33.3)[1:50]
)

review_dataframe33 <- data.frame(
    ReviewText = c(review33, review33.1, review33.2, review33.3, review33.4)[1:50]
) 

pro33 <- rep(subsetproducts2[9],50)

combinedproduct33 <- data.frame( 
    Product = pro33,
    ReviewerName = dataname33$ReviewerName,
    TypeOfPurchase = datapurchaseType33$TypeOfPurchase,
    Date = dataDate33$Date,
    IndividualRating = rate33$IndividualRating,
    ReviewText = review_dataframe33$ReviewText
)

combinedproduct33

# Write CSV for product 33 review
write.csv(combinedproduct33, file = "33rdProduct.csv")
```
FOR PRODUCT #34
```{r}

url34 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url34, user_agent = "educational purposes")
session

url34_ <- read_html(url34)

url34.1 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url34.1, user_agent = "educational purposes")
session

url34_.1 <- read_html(url34.1)

# Update links (add 34)
url34.2 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url34.2, user_agent = "educational purposes")
session

url34_.2 <- read_html(url34.2)

# Update links (add 34)
url34.3 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url34.3, user_agent = "educational purposes")
session

url34_.3 <- read_html(url34.3)

url34.4 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar"
url34_.4 <- read_html(url34.4)

# Reviews for product 34
# Get the reviewer names
name34 <- url34_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name34

# Get the reviewer names (add 34)
name34.1 <- url34_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name34.1 <- name34.1[3:11] 
name34.1

# Get the reviewer names (add 34)
name34.2 <- url34_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name34.2 <- name34.2[3:9] 
name34.2

# Get the reviewer names (add 34)
name34.3 <- url34_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name34.3 <- name34.3[3:12]
name34.3

# Type of purchase 
purchase34 <- url34_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase34.1 <- url34_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase34.2 <- url34_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase34.3 <- url34_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase34.4 <- url34_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date34 <- url34_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date34.1 <- url34_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date34.2 <- url34_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date34.3 <- url34_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date34.4 <- url34_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date34.3_ <- date34.4[1:20]

# Individual ratings 
rate34 <- url34_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate34.1 <- url34_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate34.2 <- url34_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate34.3 <- url34_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate34.4 <- url34_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review34 <- url34_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review34.1 <- url34_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review34.2 <- url34_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review34.3 <- url34_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review34.3 <- review34.3[1:12]   

review34.4 <- url34_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review34.4 <- review34.4[1:10]

# DATA FRAMES
dataname34 <- data.frame(
    ReviewerName = c(name34, name34.1, name34.2, name34.3)[1:50]
)

datapurchaseType34 <- data.frame(
    TypeOfPurchase = c(purchase34, purchase34.1, purchase34.2, purchase34.3, purchase34.4)[1:50]
)

dataDate34 <- data.frame(
    Date = c(date34, date34.1, date34.2, date34.3)[1:50]
)

rate34 <- data.frame(
    IndividualRating = c(rate34, rate34.1, rate34.2, rate34.3)[1:50]
)

review_dataframe34 <- data.frame(
    ReviewText = c(review34, review34.1, review34.2, review34.3, review34.4)[1:50]
) 

pro34 <- rep(subsetproducts2[10],50)

combinedproduct34 <- data.frame( 
    Product = pro34,
    ReviewerName = dataname34$ReviewerName,
    TypeOfPurchase = datapurchaseType34$TypeOfPurchase,
    Date = dataDate34$Date,
    IndividualRating = rate34$IndividualRating,
    ReviewText = review_dataframe34$ReviewText
)

combinedproduct34

# Write CSV for product 34 review
write.csv(combinedproduct34, file = "34thProduct.csv") 

#load
head(combinedproduct34)
```

FOR PRODUCT #35
```{r}
url35 <- "https://www.amazon.com.au/product-reviews/B07S8R1LBJ/ref=cm_cr_unknown?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews&pageNumber=1#reviews-filter-bar"
session <- bow(url35, user_agent = "educational purposes")
session

url35_ <- read_html(url35)

url35.1 <- "https://www.amazon.com.au/product-reviews/B07S8R1LBJ/ref=cm_cr_unknown?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=1#reviews-filter-bar"

session <- bow(url35.1, user_agent = "educational purposes")
session

url35_.1 <- read_html(url35.1)

# Reviews for product 35
# Get the reviewer names
name35 <- url35_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name35

# only 2 reviews in this product
name35.1 <- url35_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name35.1 <- name35.1[3:11] 
name35.1





# Type of purchase 
purchase35 <- url35_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase35.1 <- url35_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date35 <- url35_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date35.1 <- url35_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()


# Individual ratings 
rate35 <- url35_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate35.1 <- url35_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()


# Review text extraction
review35 <- url35_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review35.1 <- url35_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)


# DATA FRAMES
dataname35 <- data.frame(
    ReviewerName = c(name35, name35.1)[1:50]
)

datapurchaseType35 <- data.frame(
    TypeOfPurchase = c(purchase35, purchase35.1)[1:50]
)

dataDate35 <- data.frame(
    Date = c(date35, date35.1)[1:50]
)

rate35 <- data.frame(
    IndividualRating = c(rate35, rate35.1)[1:50]
)

review_dataframe35 <- data.frame(
    ReviewText = c(review35, review35.1)[1:50]
) 

pro35 <- rep(subsetproducts2[11],50)

combinedproduct35 <- data.frame( 
    Product = pro35,
    ReviewerName = dataname35$ReviewerName,
    TypeOfPurchase = datapurchaseType35$TypeOfPurchase,
    Date = dataDate35$Date,
    IndividualRating = rate35$IndividualRating,
    ReviewText = review_dataframe35$ReviewText
)

combinedproduct35

# Write CSV for product 35 review
write.csv(combinedproduct35, file = "35thProduct.csv")
#load
head(combinedproduct35)
```
FOR PRODUCT #36
```{r}
url36 <- "https://www.amazon.com.au/product-reviews/B08TWPYWYT/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url36, user_agent = "educational purposes")
session

url36_ <- read_html(url36)

url36.1 <- "https://www.amazon.com.au/product-reviews/B08TWPYWYT/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url36.1, user_agent = "educational purposes")
session

url36_.1 <- read_html(url36.1)

# Update links (add 36)
url36.2 <- "https://www.amazon.com.au/product-reviews/B08TWPYWYT/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url36.2, user_agent = "educational purposes")
session

url36_.2 <- read_html(url36.2)

# Update links (add 36)
url36.3 <- "https://www.amazon.com.au/product-reviews/B08TWPYWYT/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url36.3, user_agent = "educational purposes")
session

url36_.3 <- read_html(url36.3)

url36.4 <- "https://www.amazon.com.au/product-reviews/B08TWPYWYT/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url36_.4 <- read_html(url36.4)

# Reviews for product 36
# Get the reviewer names
name36 <- url36_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name36

# Get the reviewer names (add 36)
name36.1 <- url36_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name36.1 <- name36.1[3:11] 
name36.1

# Get the reviewer names (add 36)
name36.2 <- url36_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name36.2 <- name36.2[3:9] 
name36.2

# Get the reviewer names (add 36)
name36.3 <- url36_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name36.3 <- name36.3[3:12]
name36.3

# Type of purchase 
purchase36 <- url36_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase36.1 <- url36_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase36.2 <- url36_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase36.3 <- url36_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase36.4 <- url36_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date36 <- url36_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date36.1 <- url36_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date36.2 <- url36_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date36.3 <- url36_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date36.4 <- url36_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date36.3_ <- date36.4[1:20]

# Individual ratings 
rate36 <- url36_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate36.1 <- url36_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate36.2 <- url36_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate36.3 <- url36_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate36.4 <- url36_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review36 <- url36_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review36.1 <- url36_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review36.2 <- url36_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review36.3 <- url36_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review36.3 <- review36.3[1:12]   

review36.4 <- url36_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review36.4 <- review36.4[1:10]

# DATA FRAMES
dataname36 <- data.frame(
    ReviewerName = c(name36, name36.1, name36.2, name36.3)[1:50]
)

datapurchaseType36 <- data.frame(
    TypeOfPurchase = c(purchase36, purchase36.1, purchase36.2, purchase36.3, purchase36.4)[1:50]
)

dataDate36 <- data.frame(
    Date = c(date36, date36.1, date36.2, date36.3)[1:50]
)

rate36 <- data.frame(
    IndividualRating = c(rate36, rate36.1, rate36.2, rate36.3)[1:50]
)

review_dataframe36 <- data.frame(
    ReviewText = c(review36, review36.1, review36.2, review36.3, review36.4)[1:50]
) 

pro36 <- rep(subsetproducts2[12],50)

combinedproduct36 <- data.frame( 
    Product = pro36,
    ReviewerName = dataname36$ReviewerName,
    TypeOfPurchase = datapurchaseType36$TypeOfPurchase,
    Date = dataDate36$Date,
    IndividualRating = rate36$IndividualRating,
    ReviewText = review_dataframe36$ReviewText
)

combinedproduct36

# Write CSV for product 36 review
write.csv(combinedproduct36, file = "36thProduct.csv")
#load 
head(combinedproduct36)
```
FOR PRODUCT #37
```{r}
url37 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url37, user_agent = "educational purposes")
session

url37_ <- read_html(url37)

url37.1 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url37.1, user_agent = "educational purposes")
session

url37_.1 <- read_html(url37.1)

# Update links (add 37)
url37.2 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_4?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url37.2, user_agent = "educational purposes")
session

url37_.2 <- read_html(url37.2)

# Update links (add 37)
url37.3 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url37.3, user_agent = "educational purposes")
session

url37_.3 <- read_html(url37.3)

url37.4 <- "https://www.amazon.com.au/product-reviews/B0CFXWNPP2/ref=acr_search_hist_3?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews#reviews-filter-bar"
url37_.4 <- read_html(url37.4)

# Reviews for product 37
# Get the reviewer names
name37 <- url37_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name37

# Get the reviewer names (add 37)
name37.1 <- url37_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name37.1 <- name37.1[3:11] 
name37.1

# Get the reviewer names (add 37)
name37.2 <- url37_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name37.2 <- name37.2[3:9] 
name37.2

# Get the reviewer names (add 37)
name37.3 <- url37_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name37.3 <- name37.3[3:12]
name37.3

# Type of purchase 
purchase37 <- url37_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase37.1 <- url37_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase37.2 <- url37_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase37.3 <- url37_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase37.4 <- url37_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date37 <- url37_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date37.1 <- url37_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date37.2 <- url37_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date37.3 <- url37_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date37.4 <- url37_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date37.3_ <- date37.4[1:20]

# Individual ratings 
rate37 <- url37_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate37.1 <- url37_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate37.2 <- url37_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate37.3 <- url37_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate37.4 <- url37_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review37 <- url37_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()%>% 
    gsub("\\n", "", .)

review37.1 <- url37_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review37.2 <- url37_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review37.3 <- url37_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review37.3 <- review37.3[1:12]   

review37.4 <- url37_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review37.4 <- review37.4[1:10]

# DATA FRAMES
dataname37 <- data.frame(
    ReviewerName = c(name37, name37.1, name37.2, name37.3)[1:50]
)

datapurchaseType37 <- data.frame(
    TypeOfPurchase = c(purchase37, purchase37.1, purchase37.2, purchase37.3, purchase37.4)[1:50]
)

dataDate37 <- data.frame(
    Date = c(date37, date37.1, date37.2, date37.3)[1:50]
)

rate37 <- data.frame(
    IndividualRating = c(rate37, rate37.1, rate37.2, rate37.3)[1:50]
)

review_dataframe37 <- data.frame(
    ReviewText = c(review37, review37.1, review37.2, review37.3, review37.4)[1:50]
) 

pro37 <- rep(subsetproducts2[13],50)

combinedproduct37 <- data.frame( 
    Product = pro37,
    ReviewerName = dataname37$ReviewerName,
    TypeOfPurchase = datapurchaseType37$TypeOfPurchase,
    Date = dataDate37$Date,
    IndividualRating = rate37$IndividualRating,
    ReviewText = review_dataframe37$ReviewText
)

combinedproduct37

# Write CSV for product 37 review
write.csv(combinedproduct37, file = "37thProduct.csv")
#load 
head(combinedproduct37)
```
FOR PRODUCT #38
```{r}
url38 <- "https://www.amazon.com.au/product-reviews/B0CGVFH9HT/ref=cm_cr_unknown?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=1#reviews-filter-bar"
session <- bow(url38, user_agent = "educational purposes")
session

url38_ <- read_html(url38)


# Get the reviewer name only one review in this product
name38 <- url38_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name38

# Type of purchase 
purchase38 <- url38_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date38 <- url38_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()


# Individual ratings 
rate38 <- url38_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review38 <- url38_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)



# DATA FRAMES
dataname38 <- data.frame(
    ReviewerName = c(name38)[1:50])

datapurchaseType38 <- data.frame(
    TypeOfPurchase = c(purchase38)[1:50])

dataDate38 <- data.frame(
    Date = c(date38)[1:50])

rate38 <- data.frame(
    IndividualRating = c(rate38)[1:50])

review_dataframe38 <- data.frame(ReviewText = c(review38[1:50]))

pro38 <- rep(subsetproducts2[14],50)

combinedproduct38 <- data.frame( 
    Product = pro38,
    ReviewerName = dataname38$ReviewerName,
    TypeOfPurchase = datapurchaseType38$TypeOfPurchase,
    Date = dataDate38$Date,
    IndividualRating = rate38$IndividualRating,
    ReviewText = review_dataframe38$ReviewText
)

combinedproduct38

# Write CSV for product 38 review
write.csv(combinedproduct38, file = "38thProduct.csv")

#load 
head(combinedproduct38)
```

FOR PRODUCT #39
```{r}
url39 <- "https://www.amazon.com.au/product-reviews/B09JSDXSBV/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url39, user_agent = "educational purposes")
session

url39_ <- read_html(url39)

url39.1 <- "https://www.amazon.com.au/product-reviews/B09JSDXSBV/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url39.1, user_agent = "educational purposes")
session

url39_.1 <- read_html(url39.1)

# Update links (add 39)
url39.2 <- "https://www.amazon.com.au/product-reviews/B09JSDXSBV/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url39.2, user_agent = "educational purposes")
session

url39_.2 <- read_html(url39.2)

# Update links (add 39)
url39.3 <- "https://www.amazon.com.au/product-reviews/B09JSDXSBV/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url39.3, user_agent = "educational purposes")
session

url39_.3 <- read_html(url39.3)

url39.4 <- "https://www.amazon.com.au/product-reviews/B09JSDXSBV/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url39_.4 <- read_html(url39.4)

# Reviews for product 39
# Get the reviewer names
name39 <- url39_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name39

# Get the reviewer names (add 39)
name39.1 <- url39_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name39.1 <- name39.1[3:11] 
name39.1

# Get the reviewer names (add 39)
name39.2 <- url39_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name39.2 <- name39.2[3:9] 
name39.2

# Get the reviewer names (add 39)
name39.3 <- url39_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name39.3 <- name39.3[3:12]
name39.3

# Type of purchase 
purchase39 <- url39_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase39.1 <- url39_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase39.2 <- url39_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase39.3 <- url39_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase39.4 <- url39_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date39 <- url39_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date39.1 <- url39_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date39.2 <- url39_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date39.3 <- url39_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date39.4 <- url39_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date39.3_ <- date39.4[1:20]

# Individual ratings 
rate39 <- url39_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate39.1 <- url39_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate39.2 <- url39_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate39.3 <- url39_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate39.4 <- url39_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review39 <- url39_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review39.1 <- url39_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review39.2 <- url39_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review39.3 <- url39_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review39.3 <- review39.3[1:12]   

review39.4 <- url39_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review39.4 <- review39.4[1:10]

# DATA FRAMES
dataname39 <- data.frame(
    ReviewerName = c(name39, name39.1, name39.2, name39.3)[1:50])

datapurchaseType39 <- data.frame(
    TypeOfPurchase = c(purchase39, purchase39.1, purchase39.2, purchase39.3, purchase39.4)[1:50])

dataDate39 <- data.frame(
    Date = c(date39, date39.1, date39.2, date39.3)[1:50])

rate39 <- data.frame(IndividualRating = c(rate39, rate39.1, rate39.2, rate39.3)[1:50])

review_dataframe39 <- data.frame(
    ReviewText = c(review39, review39.1, review39.2, review39.3, review39.4)[1:50]) 

pro39 <- rep(subsetproducts2[15],50)

combinedproduct39 <- data.frame( 
    Product = pro39,
    ReviewerName = dataname39$ReviewerName,
    TypeOfPurchase = datapurchaseType39$TypeOfPurchase,
    Date = dataDate39$Date,
    IndividualRating = rate39$IndividualRating,
    ReviewText = review_dataframe39$ReviewText
)

combinedproduct39

# Write CSV for product 39 review
write.csv(combinedproduct39, file = "39thProduct.csv")

#load 
head(combinedproduct39)
```

FOR PRODUCT #40
```{r}
url40 <- "https://www.amazon.com.au/product-reviews/B08DRFL28H/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url40, user_agent = "educational purposes")
session

url40_ <- read_html(url40)

url40.1 <- "https://www.amazon.com.au/product-reviews/B08DRFL28H/ref=cm_cr_getr_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url40.1, user_agent = "educational purposes")
session

url40_.1 <- read_html(url40.1)

# Update links (add 40)
url40.2 <- "https://www.amazon.com.au/product-reviews/B08DRFL28H/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url40.2, user_agent = "educational purposes")
session

url40_.2 <- read_html(url40.2)

# Update links (add 40)
url40.3 <- "https://www.amazon.com.au/product-reviews/B08DRFL28H/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url40.3, user_agent = "educational purposes")
session

url40_.3 <- read_html(url40.3)

url40.4 <- "https://www.amazon.com.au/product-reviews/B08DRFL28H/ref=cm_cr_getr_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url40_.4 <- read_html(url40.4)

# Reviews for product 40
# Get the reviewer names
name40 <- url40_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name40

# Get the reviewer names (add 40)
name40.1 <- url40_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name40.1 <- name40.1[3:11] 
name40.1

# Get the reviewer names (add 40)
name40.2 <- url40_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name40.2 <- name40.2[3:9] 
name40.2

# Get the reviewer names (add 40)
name40.3 <- url40_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name40.3 <- name40.3[3:12]
name40.3

# Type of purchase 
purchase40 <- url40_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase40.1 <- url40_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase40.2 <- url40_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase40.3 <- url40_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase40.4 <- url40_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date40 <- url40_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date40.1 <- url40_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date40.2 <- url40_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date40.3 <- url40_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date40.4 <- url40_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date40.3_ <- date40.4[1:20]

# Individual ratings 
rate40 <- url40_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate40.1 <- url40_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate40.2 <- url40_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate40.3 <- url40_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate40.4 <- url40_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review40 <- url40_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review40.1 <- url40_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review40.2 <- url40_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review40.3 <- url40_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review40.3 <- review40.3[1:12]   

review40.4 <- url40_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review40.4 <- review40.4[1:10]

# DATA FRAMES
dataname40 <- data.frame(
    ReviewerName = c(name40, name40.1, name40.2, name40.3)[1:50])

datapurchaseType40 <- data.frame(
    TypeOfPurchase = c(purchase40, purchase40.1, purchase40.2, purchase40.3, purchase40.4)[1:50])

dataDate40 <- data.frame(
    Date = c(date40, date40.1, date40.2, date40.3)[1:50])

rate40 <- data.frame(
    IndividualRating = c(rate40, rate40.1, rate40.2, rate40.3)[1:50])

review_dataframe40 <- data.frame(
    ReviewText = c(review40, review40.1, review40.2, review40.3, review40.4)[1:50]) 

pro40 <- rep(subsetproducts2[16],50)

combinedproduct40 <- data.frame( 
    Product = pro40,
    ReviewerName = dataname40$ReviewerName,
    TypeOfPurchase = datapurchaseType40$TypeOfPurchase,
    Date = dataDate40$Date,
    IndividualRating = rate40$IndividualRating,
    ReviewText = review_dataframe40$ReviewText
)

combinedproduct40

# Write CSV for product 40 review
write.csv(combinedproduct40, file = "40thProduct.csv")
#Load
head(combinedproduct40)
```
FOR PRODUCT #41
```{r}
url41 <- "https://www.amazon.com.au/product-reviews/B0C33SR4S9/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url41, user_agent = "educational purposes")
session

url41_ <- read_html(url41)

url41.1 <- "https://www.amazon.com.au/product-reviews/B0C33SR4S9/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url41.1, user_agent = "educational purposes")
session

url41_.1 <- read_html(url41.1)

# Update links (add 41)
url41.2 <- "https://www.amazon.com.au/product-reviews/B0C33SR4S9/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url41.2, user_agent = "educational purposes")
session

url41_.2 <- read_html(url41.2)

# Update links (add 41)
url41.3 <- "https://www.amazon.com.au/product-reviews/B0C33SR4S9/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url41.3, user_agent = "educational purposes")
session

url41_.3 <- read_html(url41.3)

url41.4 <- "https://www.amazon.com.au/product-reviews/B0C33SR4S9/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url41_.4 <- read_html(url41.4)

# Reviews for product 41
# Get the reviewer names
name41 <- url41_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name41

# Get the reviewer names (add 41)
name41.1 <- url41_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name41.1 <- name41.1[3:11] 
name41.1

# Get the reviewer names (add 41)
name41.2 <- url41_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name41.2 <- name41.2[3:9] 
name41.2

# Get the reviewer names (add 41)
name41.3 <- url41_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name41.3 <- name41.3[3:12]
name41.3

# Type of purchase 
purchase41 <- url41_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase41.1 <- url41_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase41.2 <- url41_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase41.3 <- url41_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase41.4 <- url41_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date41 <- url41_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date41.1 <- url41_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date41.2 <- url41_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date41.3 <- url41_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date41.4 <- url41_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date41.3_ <- date41.4[1:20]

# Individual ratings 
rate41 <- url41_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate41.1 <- url41_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate41.2 <- url41_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate41.3 <- url41_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate41.4 <- url41_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction


review41 <- url41_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review41.1 <- url41_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review41.2 <- url41_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review41.3 <- url41_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review41.3 <- review41.3[1:12]   

review41.4 <- url41_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review41.4 <- review41.4[1:10]

# DATA FRAMES
dataname41 <- data.frame(
    ReviewerName = c(name41, name41.1, name41.2, name41.3)[1:50]
)

datapurchaseType41 <- data.frame(
    TypeOfPurchase = c(purchase41, purchase41.1, purchase41.2, purchase41.3, purchase41.4)[1:50]
)

dataDate41 <- data.frame(
    Date = c(date41, date41.1, date41.2, date41.3)[1:50]
)

rate41 <- data.frame(
    IndividualRating = c(rate41, rate41.1, rate41.2, rate41.3)[1:50]
)

review_dataframe41 <- data.frame(
    ReviewText = c(review41, review41.1, review41.2, review41.3, review41.4)[1:50]
) 

pro41 <- rep(subsetproducts2[17],50)

combinedproduct41 <- data.frame( 
    Product = pro41,
    ReviewerName = dataname41$ReviewerName,
    TypeOfPurchase = datapurchaseType41$TypeOfPurchase,
    Date = dataDate41$Date,
    IndividualRating = rate41$IndividualRating,
    ReviewText = review_dataframe41$ReviewText
)

combinedproduct41

# Write CSV for product 41 review
write.csv(combinedproduct41, file = "41stProduct.csv")
#load
head(combinedproduct41)
```

FOR PRODUCT #42
```{r}
url42 <- "https://www.amazon.com.au/product-reviews/B07N23DXMK/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url42, user_agent = "educational purposes")
session

url42_ <- read_html(url42)

url42.1 <- "https://www.amazon.com.au/product-reviews/B07N23DXMK/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url42.1, user_agent = "educational purposes")
session

url42_.1 <- read_html(url42.1)

# Update links (add 42)
url42.2 <- "https://www.amazon.com.au/product-reviews/B07N23DXMK/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url42.2, user_agent = "educational purposes")
session

url42_.2 <- read_html(url42.2)

# Update links (add 42)
url42.3 <- "https://www.amazon.com.au/product-reviews/B07N23DXMK/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url42.3, user_agent = "educational purposes")
session

url42_.3 <- read_html(url42.3)

url42.4 <- "https://www.amazon.com.au/product-reviews/B07N23DXMK/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url42_.4 <- read_html(url42.4)

# Reviews for product 42
# Get the reviewer names
name42 <- url42_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name42

# Get the reviewer names (add 42)
name42.1 <- url42_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name42.1 <- name42.1[3:11] 
name42.1

# Get the reviewer names (add 42)
name42.2 <- url42_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name42.2 <- name42.2[3:9] 
name42.2

# Get the reviewer names (add 42)
name42.3 <- url42_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name42.3 <- name42.3[3:12]
name42.3

# Type of purchase 
purchase42 <- url42_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase42.1 <- url42_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase42.2 <- url42_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase42.3 <- url42_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase42.4 <- url42_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date42 <- url42_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date42.1 <- url42_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date42.2 <- url42_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date42.3 <- url42_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date42.4 <- url42_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date42.3_ <- date42.4[1:20]

# Individual ratings 
rate42 <- url42_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate42.1 <- url42_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate42.2 <- url42_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate42.3 <- url42_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate42.4 <- url42_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review42 <- url42_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
   

 html_text() %>% 
    gsub("\\n", "", .)

review42.1 <- url42_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review42.2 <- url42_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review42.3 <- url42_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review42.3 <- review42.3[1:12]   

review42.4 <- url42_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review42.4 <- review42.4[1:10]

# DATA FRAMES
dataname42 <- data.frame(
    ReviewerName = c(name42, name42.1, name42.2, name42.3)[1:50]
)

datapurchaseType42 <- data.frame(
    TypeOfPurchase = c(purchase42, purchase42.1, purchase42.2, purchase42.3, purchase42.4)[1:50]
)

dataDate42 <- data.frame(
    Date = c(date42, date42.1, date42.2, date42.3)[1:50]
)

rate42 <- data.frame(
    IndividualRating = c(rate42, rate42.1, rate42.2, rate42.3)[1:50]
)

review_dataframe42 <- data.frame(
    ReviewText = c(review42, review42.1, review42.2, review42.3, review42.4)[1:50]
) 

pro42 <- rep(subsetproducts2[18],50)

combinedproduct42 <- data.frame( 
    Product = pro42,
    ReviewerName = dataname42$ReviewerName,
    TypeOfPurchase = datapurchaseType42$TypeOfPurchase,
    Date = dataDate42$Date,
    IndividualRating = rate42$IndividualRating,
    ReviewText = review_dataframe42$ReviewText
)

combinedproduct42

# Write CSV for product 42 review
write.csv(combinedproduct42, file = "42ndProduct.csv")

#load 
head(combinedproduct42)
```

FOR PRODUCT #43
```{r}
url43 <- "https://www.amazon.com.au/product-reviews/B07V39LVRL/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url43, user_agent = "educational purposes")
session

url43_ <- read_html(url43)

url43.1 <- "https://www.amazon.com.au/product-reviews/B07V39LVRL/ref=cm_cr_unknown?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews&pageNumber=1#reviews-filter-bar"

session <- bow(url43.1, user_agent = "educational purposes")
session

url43_.1 <- read_html(url43.1)

# Reviews for product 43
# Get the reviewer names
name43 <- url43_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name43

# only 2 reviews in this product
name43.1 <- url43_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name43.1 <- name43.1[3:11] 
name43.1

# Type of purchase 
purchase43 <- url43_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase43.1 <- url43_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date43 <- url43_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date43.1 <- url43_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Individual ratings 
rate43 <- url43_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate43.1 <- url43_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review43 <- url43_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review43.1 <- url43_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

# DATA FRAMES
dataname43 <- data.frame(
    ReviewerName = c(name43, name43.1)[1:50]
)

datapurchaseType43 <- data.frame(
    TypeOfPurchase = c(purchase43, purchase43.1)[1:50]
)

dataDate43 <- data.frame(
    Date = c(date43, date43.1)[1:50]
)

rate43 <- data.frame(
    IndividualRating = c(rate43, rate43.1)[1:50]
)

review_dataframe43 <- data.frame(
    ReviewText = c(review43, review43.1)[1:50]
) 

pro43 <- rep(subsetproducts2[19],50)

combinedproduct43 <- data.frame( 
    Product = pro43,
    ReviewerName = dataname43$ReviewerName,
    TypeOfPurchase = datapurchaseType43$TypeOfPurchase,
    Date = dataDate43$Date,
    IndividualRating = rate43$IndividualRating,
    ReviewText = review_dataframe43$ReviewText
)

combinedproduct43

# Write CSV for product 43 review
write.csv(combinedproduct43, file = "43rdProduct.csv")
#load
head(combinedproduct43)
```

FOR PRODUCT #44
```{r}
url44 <- "https://www.amazon.com.au/product-reviews/B09YTKZRHQ/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url44, user_agent = "educational purposes")
session

url44_ <- read_html(url44)

url44.1 <- "https://www.amazon.com.au/product-reviews/B09YTKZRHQ/ref=cm_cr_unknown?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews&pageNumber=1#reviews-filter-bar"

session <- bow(url44.1, user_agent = "educational purposes")
session

url44_.1 <- read_html(url44.1)

# Update links (add 44)
url44.2 <- "https://www.amazon.com.au/product-reviews/B0BLRQ5GKS/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url44.2, user_agent = "educational purposes")
session

url44_.2 <- read_html(url44.2)

# Update links (add 44)
url44.3 <- "https://www.amazon.com.au/product-reviews/B0BLRQ5GKS/ref=cm_cr_unknown?ie=UTF8&filterByStar=four_star&reviewerType=all_reviews&pageNumber=1#reviews-filter-bar"
session <- bow(url44.3, user_agent = "educational purposes")
session

url44_.3 <- read_html(url44.3)

url44.4 <- "https://www.amazon.com.au/product-reviews/B0BLRQ5GKS/ref=cm_cr_unknown?ie=UTF8&filterByStar=three_star&reviewerType=all_reviews&pageNumber=1#reviews-filter-bar"
url44_.4 <- read_html(url44.4)

# Reviews for product 44
# Get the reviewer names
name44 <- url44_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name44

# Get the reviewer names (add 44)
name44.1 <- url44_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name44.1 <- name44.1[3:11] 
name44.1

# Get the reviewer names (add 44)
name44.2 <- url44_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name44.2 <- name44.2[3:9] 
name44.2

# Get the reviewer names (add 44)
name44.3 <- url44_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name44.3 <- name44.3[3:12]
name44.3

# Type of purchase 
purchase44 <- url44_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase44.1 <- url44_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase44.2 <- url44_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase44.3 <- url44_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase44.4 <- url44_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date44 <- url44_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date44.1 <- url44_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date44.2 <- url44_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date44.3 <- url44_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date44.4 <- url44_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date44.3_ <- date44.4[1:20]

# Individual ratings 
rate44 <- url44_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate44.1 <- url44_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate44.2 <- url44_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate44.3 <- url44_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate44.4 <- url44_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review44 <- url44_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review44.1 <- url44_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review44.2 <- url44_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review44.3 <- url44_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review44.3 <- review44.3[1:12]   

review44.4 <- url44_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review44.4 <- review44.4[1:10]

# DATA FRAMES
dataname44 <- data.frame(
    ReviewerName = c(name44, name44.1, name44.2, name44.3)[1:50]
)

datapurchaseType44 <- data.frame(
    TypeOfPurchase = c(purchase44, purchase44.1, purchase44.2, purchase44.3, purchase44.4)[1:50]
)

dataDate44 <- data.frame(
    Date = c(date44, date44.1, date44.2, date44.3)[1:50]
)

rate44 <- data.frame(
    IndividualRating = c(rate44, rate44.1, rate44.2, rate44.3)[1:50]
)

review_dataframe44 <- data.frame(
    ReviewText = c(review44, review44.1, review44.2, review44.3, review44.4)[1:50]
) 

pro44 <- rep(subsetproducts2[20],50)

combinedproduct44 <- data.frame( 
    Product = pro44,
    ReviewerName = dataname44$ReviewerName,
    TypeOfPurchase = datapurchaseType44$TypeOfPurchase,
    Date = dataDate44$Date,
    IndividualRating = rate44$IndividualRating,
    ReviewText = review_dataframe44$ReviewText
)

combinedproduct44

# Write CSV for product 44 review
write.csv(combinedproduct44, file = "44thProduct.csv")

#load 
head(combinedproduct44)
```
FOR PRODUCT #45
```{r}
url45 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url45, user_agent = "educational purposes")
session

url45_ <- read_html(url45)

url45.1 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url45.1, user_agent = "educational purposes")
session

url45_.1 <- read_html(url45.1)

# Update links (add 45)
url45.2 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url45.2, user_agent = "educational purposes")
session

url45_.2 <- read_html(url45.2)

# Update links (add 45)
url45.3 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url45.3, user_agent = "educational purposes")
session

url45_.3 <- read_html(url45.3)

url45.4 <- "https://www.amazon.com.au/product-reviews/B0B8MQRGV8/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url45_.4 <- read_html(url45.4)

# Reviews for product 45
# Get the reviewer names
name45 <- url45_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name45

# Get the reviewer names (add 45)
name45.1 <- url45_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name45.1 <- name45.1[3:11] 
name45.1

# Get the reviewer names (add 45)
name45.2 <- url45_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name45.2 <- name45.2[3:9] 
name45.2

# Get the reviewer names (add 45)
name45.3 <- url45_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name45.3 <- name45.3[3:12]
name45.3

# Type of purchase 
purchase45 <- url45_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase45.1 <- url45_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase45.2 <- url45_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase45.3 <- url45_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase45.4 <- url45_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date45 <- url45_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date45.1 <- url45_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date45.2 <- url45_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date45.3 <- url45_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date45.4 <- url45_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date45.3_ <- date45.4[1:20]

# Individual ratings 
rate45 <- url45_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate45.1 <- url45_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate45.2 <- url45_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate45.3 <- url45_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate45.4 <- url45_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review45 <- url45_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review45.1 <- url45_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review45.2 <- url45_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review45.3 <- url45_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review45.3 <- review45.3[1:12]   

review45.4 <- url45_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review45.4 <- review45.4[1:10]

# DATA FRAMES
dataname45 <- data.frame(
    ReviewerName = c(name45, name45.1, name45.2, name45.3)[1:50]
)

datapurchaseType45 <- data.frame(
    TypeOfPurchase = c(purchase45, purchase45.1, purchase45.2, purchase45.3, purchase45.4)[1:50]
)

dataDate45 <- data.frame(
    Date = c(date45, date45.1, date45.2, date45.3)[1:50]
)

rate45 <- data.frame(
    IndividualRating = c(rate45, rate45.1, rate45.2, rate45.3)[1:50]
)

review_dataframe45 <- data.frame(
    ReviewText = c(review45, review45.1, review45.2, review45.3, review45.4)[1:50]
) 

pro45 <- rep(subsetproducts2[21],50)

combinedproduct45 <- data.frame( 
    Product = pro45,
    ReviewerName = dataname45$ReviewerName,
    TypeOfPurchase = datapurchaseType45$TypeOfPurchase,
    Date = dataDate45$Date,
    IndividualRating = rate45$IndividualRating,
    ReviewText = review_dataframe45$ReviewText
)

combinedproduct45

# Write CSV for product 45 review
write.csv(combinedproduct45, file = "45thProduct.csv")

#load 
 head(combinedproduct45)

```
FOR PRODUCT #46
```{r}
url46 <- "https://www.amazon.com.au/product-reviews/B093SLWMS7/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url46, user_agent = "educational purposes")
session

url46_ <- read_html(url46)

url46.1 <- "https://www.amazon.com.au/product-reviews/B093SLWMS7/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url46.1, user_agent = "educational purposes")
session

url46_.1 <- read_html(url46.1)

# Update links (add 46)
url46.2 <- "https://www.amazon.com.au/product-reviews/B093SLWMS7/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url46.2, user_agent = "educational purposes")
session

url46_.2 <- read_html(url46.2)

# Update links (add 46)
url46.3 <- "https://www.amazon.com.au/product-reviews/B093SLWMS7/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url46.3, user_agent = "educational purposes")
session

url46_.3 <- read_html(url46.3)

url46.4 <- "https://www.amazon.com.au/product-reviews/B093SLWMS7/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url46_.4 <- read_html(url46.4)

# Reviews for product 46
# Get the reviewer names
name46 <- url46_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name46

# Get the reviewer names (add 46)
name46.1 <- url46_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name46.1 <- name46.1[3:11] 
name46.1

# Get the reviewer names (add 46)
name46.2 <- url46_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name46.2 <- name46.2[3:9] 
name46.2

# Get the reviewer names (add 46)
name46.3 <- url46_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name46.3 <- name46.3[3:12]
name46.3

# Type of purchase 
purchase46 <- url46_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase46.1 <- url46_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase46.2 <- url46_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase46.3 <- url46_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase46.4 <- url46_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date46 <- url46_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date46.1 <- url46_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date46.2 <- url46_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date46.3 <- url46_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date46.4 <- url46_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date46.3_ <- date46.4[1:20]

# Individual ratings 
rate46 <- url46_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate46.1 <- url46_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate46.2 <- url46_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate46.3 <- url46_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate46.4 <- url46_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review46 <- url46_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review46.1 <- url46_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review46.2 <- url46_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review46.3 <- url46_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review46.3 <- review46.3[1:12]   

review46.4 <- url46_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review46.4 <- review46.4[1:10]

# DATA FRAMES
dataname46 <- data.frame(
    ReviewerName = c(name46, name46.1, name46.2, name46.3)[1:50]
)

datapurchaseType46 <- data.frame(
    TypeOfPurchase = c(purchase46, purchase46.1, purchase46.2, purchase46.3, purchase46.4)[1:50]
)

dataDate46 <- data.frame(
    Date = c(date46, date46.1, date46.2, date46.3)[1:50]
)

rate46 <- data.frame(
    IndividualRating = c(rate46, rate46.1, rate46.2, rate46.3)[1:50]
)

review_dataframe46 <- data.frame(
    ReviewText = c(review46, review46.1, review46.2, review46.3, review46.4)[1:50]
) 

pro46 <- rep(subsetproducts2[22],50)

combinedproduct46 <- data.frame( 
    Product = pro46,
    ReviewerName = dataname46$ReviewerName,
    TypeOfPurchase = datapurchaseType46$TypeOfPurchase,
    Date = dataDate46$Date,
    IndividualRating = rate46$IndividualRating,
    ReviewText = review_dataframe46$ReviewText
)

combinedproduct46

# Write CSV for product 46 review
write.csv(combinedproduct46, file = "46thProduct.csv")

#load 
head(combinedproduct46)
```
FOR PRODUCT #47
```{r} 
#no reviews in this product  
url47 <- "https://www.amazon.com.au/product-reviews/B07S9TGT2B/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url47, user_agent = "educational purposes")
session

url47_ <- read_html(url47)

url47.1 <- "https://www.amazon.com.au/product-reviews/B07S9TGT2B/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url47.1, user_agent = "educational purposes")
session

url47_.1 <- read_html(url47.1)


url47.2 <- "https://www.amazon.com.au/product-reviews/B07S9TGT2B/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"

session <- bow(url47.2, user_agent = "educational purposes")
session

url47_.2 <- read_html(url47.2)

url47.3 <- "https://www.amazon.com.au/product-reviews/B07S9TGT2B/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url47.3, user_agent = "educational purposes")
session

url47_.3 <- read_html(url47.3)

url47.4 <- "https://www.amazon.com.au/product-reviews/B07S9TGT2B/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
url47_.4 <- read_html(url47.4)

# Reviews for product 47
# Get the reviewer names
name47 <- url47_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name47

# Get the reviewer names (add 47)
name47.1 <- url47_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name47.1 <- name47.1[3:11] 
name47.1

# Get the reviewer names (add 47)
name47.2 <- url47_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name47.2 <- name47.2[3:9] 
name47.2

# Get the reviewer names (add 47)
name47.3 <- url47_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name47.3 <- name47.3[3:12]
name47.3

# Type of purchase 
purchase47 <- url47_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase47.1 <- url47_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase47.2 <- url47_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase47.3 <- url47_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase47.4 <- url47_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date47 <- url47_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date47.1 <- url47_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date47.2 <- url47_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date47.3 <- url47_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date47.4 <- url47_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date47.3_ <- date47.4[1:20]

# Individual ratings 
rate47 <- url47_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate47.1 <- url47_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate47.2 <- url47_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate47.3 <- url47_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate47.4 <- url47_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review47 <- url47_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review47.1 <- url47_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review47.2 <- url47_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review47.3 <- url47_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review47.3 <- review47.3[1:12]   

review47.4 <- url47_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review47.4 <- review47.4[1:10]

# DATA FRAMES
dataname47 <- data.frame(
    ReviewerName = c(name47, name47.1, name47.2, name47.3)[1:50]
)

datapurchaseType47 <- data.frame(
    TypeOfPurchase = c(purchase47, purchase47.1, purchase47.2, purchase47.3, purchase47.4)[1:50]
)

dataDate47 <- data.frame(
    Date = c(date47, date47.1, date47.2, date47.3)[1:50]
)

rate47 <- data.frame(
    IndividualRating = c(rate47, rate47.1, rate47.2, rate47.3)[1:50]
)

review_dataframe47 <- data.frame(
    ReviewText = c(review47, review47.1, review47.2, review47.3, review47.4)[1:50]
) 

pro47 <- rep(subsetproducts2[23],50)

combinedproduct47 <- data.frame( 
    Product = pro47,
    ReviewerName = dataname47$ReviewerName,
    TypeOfPurchase = datapurchaseType47$TypeOfPurchase,
    Date = dataDate47$Date,
    IndividualRating = rate47$IndividualRating,
    ReviewText = review_dataframe47$ReviewText
)

combinedproduct47
#no reviews in this product
# Write CSV for product 47 review
write.csv(combinedproduct47, file = "47thProduct.csv")

#load 
head(combinedproduct47)
```
FOR PRODUCT #48
```{r}
url48 <- "https://www.amazon.com.au/product-reviews/B01DKGP5U0/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url48, user_agent = "educational purposes")
session

url48_ <- read_html(url48)

url48.1 <- "https://www.amazon.com.au/product-reviews/B01DKGP5U0/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url48.1, user_agent = "educational purposes")
session

url48_.1 <- read_html(url48.1)

# Update links (add 48)
url48.2 <- "https://www.amazon.com.au/product-reviews/B01DKGP5U0/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url48.2, user_agent = "educational purposes")
session

url48_.2 <- read_html(url48.2)

# Update links (add 48)
url48.3 <- "https://www.amazon.com.au/product-reviews/B01DKGP5U0/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url48.3, user_agent = "educational purposes")
session

url48_.3 <- read_html(url48.3)

url48.4 <- "https://www.amazon.com.au/product-reviews/B01DKGP5U0/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url48_.4 <- read_html(url48.4)

# Reviews for product 48
# Get the reviewer names
name48 <- url48_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name48

# Get the reviewer names (add 48)
name48.1 <- url48_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name48.1 <- name48.1[3:11] 
name48.1

# Get the reviewer names (add 48)
name48.2 <- url48_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name48.2 <- name48.2[3:9] 
name48.2

# Get the reviewer names (add 48)
name48.3 <- url48_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name48.3 <- name48.3[3:12]
name48.3

# Type of purchase 
purchase48 <- url48_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase48.1 <- url48_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase48.2 <- url48_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase48.3 <- url48_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase48.4 <- url48_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date48 <- url48_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date48.1 <- url48_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date48.2 <- url48_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date48.3 <- url48_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date48.4 <- url48_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date48.3_ <- date48.4[1:20]

# Individual ratings 
rate48 <- url48_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate48.1 <- url48_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate48.2 <- url48_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate48.3 <- url48_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate48.4 <- url48_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review48 <- url48_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review48.1 <- url48_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review48.2 <- url48_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review48.3 <- url48_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review48.3 <- review48.3[1:12]   

review48.4 <- url48_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review48.4 <- review48.4[1:10]

dataname48 <- data.frame(
    ReviewerName = c(name48, name48.1, name48.2, name48.3)[1:50]
)

datapurchaseType48 <- data.frame(
    TypeOfPurchase = c(purchase48, purchase48.1, purchase48.2, purchase48.3, purchase48.4)[1:50]
)

dataDate48 <- data.frame(
    Date = c(date48, date48.1, date48.2, date48.3)[1:50]
)

rate48 <- data.frame(
    IndividualRating = c(rate48, rate48.1, rate48.2, rate48.3)[1:50]
)

review_dataframe48 <- data.frame(
    ReviewText = c(review48, review48.1, review48.2, review48.3, review48.4)[1:50]
) 

pro48 <- rep(subsetproducts2[24], 50)

combinedproduct48 <- data.frame( 
    Product = pro48,
    ReviewerName = dataname48$ReviewerName,
    TypeOfPurchase = datapurchaseType48$TypeOfPurchase,
    Date = dataDate48$Date,
    IndividualRating = rate48$IndividualRating,
    ReviewText = review_dataframe48$ReviewText
)

combinedproduct48

# Write CSV for product 48 review
write.csv(combinedproduct48, file = "48thProduct.csv")
#load 
head(combinedproduct48)

```
FOR PRODUCT #49
```{r}
url49 <- "https://www.amazon.com.au/product-reviews/B0C73X3P8B/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-barr"
url49_ <- read_html(url49)

url49.1 <- "https://www.amazon.com.au/product-reviews/B0C73X3P8B/ref=cm_cr_getr_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"
url49_.1 <- read_html(url49.1)

url49.2 <- "https://www.amazon.com.au/product-reviews/B0C73X3P8B/ref=cm_cr_getr_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"
url49_.2 <- read_html(url49.2)

url49.3 <- "https://www.amazon.com.au/product-reviews/B0C73X3P8B/ref=cm_cr_getr_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
url49_.3 <- read_html(url49.3)

# Reviews for product 49
# Get the reviewer names
name49 <- url49_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 

name49

# Get the reviewer names
name49.1 <- url49_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name49.1 <- name49.1[3:11] 

name49.1

# Get the reviewer names
name49.2 <- url49_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name49.2 <- name49.2[3:9] 

name49.2

# Get the reviewer names
name49.3 <- url49_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name49.3 <- name49.3[3:12]

name49.3

# Type of purchase 
purchase49 <- url49_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase49.1 <- url49_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase49.2 <- url49_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase49.3 <- url49_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date49 <- url49_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date49.1 <- url49_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date49.2 <- url49_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date49.3 <- url49_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Individual ratings 
rate49 <- url49_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate49.1 <- url49_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate49.2 <- url49_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate49.3 <- url49_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review49 <- url49_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review49.1 <- url49_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review49.2 <- url49_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review49.3 <- url49_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)

# DATA FRAMES
dataname49 <- data.frame(
    ReviewerName = c(name49, name49.1, name49.2, name49.3)[1:50]
)

datapurchaseType49 <- data.frame(
    TypeOfPurchase = c(purchase49, purchase49.1, purchase49.2, purchase49.3)[1:50]
)

dataDate49 <- data.frame(
    Date = c(date49, date49.1, date49.2, date49.3)[1:50]
)

rate49 <- data.frame(
    IndividualRating = c(rate49, rate49.1, rate49.2, rate49.3)[1:50]
)

review_dataframe49 <- data.frame(
    ReviewText = c(review49, review49.1, review49.2, review49.3)[1:50]
) 

pro49 <- rep(subsetproducts3[1],50)

combinedproduct49 <- data.frame( 
    Product = pro49,
    ReviewerName = dataname49$ReviewerName,
    TypeOfPurchase = datapurchaseType49$TypeOfPurchase,
    Date = dataDate49$Date,
    IndividualRating = rate49$IndividualRating,
    ReviewText = review_dataframe49$ReviewText
)

combinedproduct49

# Write CSV for product 49 review
write.csv(combinedproduct49, file = "49thProduct.csv")

#load 
head(combinedproduct49)
```
FOR PRODUCT #50
```{r}
url50 <- "https://www.amazon.com.au/product-reviews/B08DYFG6LM/ref=acr_search_hist_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews#reviews-filter-bar"
session <- bow(url50, user_agent = "educational purposes")
session

url50_ <- read_html(url50)

url50.1 <- "https://www.amazon.com.au/product-reviews/B08DYFG6LM/ref=cm_cr_arp_d_paging_btm_next_2?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=2#reviews-filter-bar"

session <- bow(url50.1, user_agent = "educational purposes")
session

url50_.1 <- read_html(url50.1)

# Update links (add 50)
url50.2 <- "https://www.amazon.com.au/product-reviews/B08DYFG6LM/ref=cm_cr_arp_d_paging_btm_next_3?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=3#reviews-filter-bar"

session <- bow(url50.2, user_agent = "educational purposes")
session

url50_.2 <- read_html(url50.2)

# Update links (add 50)
url50.3 <- "https://www.amazon.com.au/product-reviews/B08DYFG6LM/ref=cm_cr_arp_d_paging_btm_next_4?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=4#reviews-filter-bar"
session <- bow(url50.3, user_agent = "educational purposes")
session

url50_.3 <- read_html(url50.3)

url50.4 <- "https://www.amazon.com.au/product-reviews/B08DYFG6LM/ref=cm_cr_arp_d_paging_btm_next_5?ie=UTF8&filterByStar=five_star&reviewerType=all_reviews&pageNumber=5#reviews-filter-bar"
url50_.4 <- read_html(url50.4)

# Reviews for product 50
# Get the reviewer names
name50 <- url50_ %>%
    html_nodes("div.a-profile-content") %>%
    html_text() 
name50

# Get the reviewer names (add 50)
name50.1 <- url50_.1 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name50.1 <- name50.1[3:11] 
name50.1

# Get the reviewer names (add 50)
name50.2 <- url50_.2 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name50.2 <- name50.2[3:9] 
name50.2

# Get the reviewer names (add 50)
name50.3 <- url50_.3 %>%
    html_nodes("div.a-profile-content") %>%
    html_text()
name50.3 <- name50.3[3:12]
name50.3

# Type of purchase 
purchase50 <- url50_ %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase50.1 <- url50_.1 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase50.2 <- url50_.2 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase50.3 <- url50_.3 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Type of purchase 
purchase50.4 <- url50_.4 %>%
    html_nodes("span.a-size-mini.a-color-state.a-text-bold") %>%
    html_text()

# Date 
date50 <- url50_ %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date50.1 <- url50_.1 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date50.2 <- url50_.2 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date50.3 <- url50_.3 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Date 
date50.4 <- url50_.4 %>%
    html_nodes("span.a-size-base.a-color-secondary.review-date") %>%
    html_text()

# Sub
date50.3_ <- date50.4[1:20]

# Individual ratings 
rate50 <- url50_ %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate50.1 <- url50_.1 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate50.2 <- url50_.2 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate50.3 <- url50_.3 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Individual ratings 
rate50.4 <- url50_.4 %>%
    html_nodes("span.a-icon-alt") %>%
    html_text()

# Review text extraction
review50 <- url50_ %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review50.1 <- url50_.1 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>% 
    gsub("\\n", "", .)

review50.2 <- url50_.2 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text() %>%
    gsub("\\n", "", .)

review50.3 <- url50_.3 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review50.3 <- review50.3[1:12]   

review50.4 <- url50_.4 %>%
    html_nodes("span.a-size-base.review-text.review-text-content") %>%
    html_text()  %>%
    gsub("\\n", "", .)
review50.4 <- review50.4[1:10]

# DATA FRAMES
dataname50 <- data.frame(
    ReviewerName = c(name50, name50.1, name50.2, name50.3)[1:50]
)

datapurchaseType50 <- data.frame(
    TypeOfPurchase = c(purchase50, purchase50.1, purchase50.2, purchase50.3, purchase50.4)[1:50]
)

dataDate50 <- data.frame(
    Date = c(date50, date50.1, date50.2, date50.3)[1:50]
)

rate50 <- data.frame(
    IndividualRating = c(rate50, rate50.1, rate50.2, rate50.3)[1:50]
)

review_dataframe50 <- data.frame(
    ReviewText = c(review50, review50.1, review50.2, review50.3, review50.4)[1:50]
) 

pro50 <- rep(subsetproducts3[2],50)

combinedproduct50 <- data.frame( 
    Product = pro50,
    ReviewerName = dataname50$ReviewerName,
    TypeOfPurchase = datapurchaseType50$TypeOfPurchase,
    Date = dataDate50$Date,
    IndividualRating = rate50$IndividualRating,
    ReviewText = review_dataframe50$ReviewText
)

combinedproduct50

# Write CSV for product 50 review
write.csv(combinedproduct50, file = "50thProduct.csv")

#load 
 head(combinedproduct50)

```


Combine all products
```{r}
library(dplyr)

# List of data frames to combine
df_list <- lapply(1:50, function(i) get(paste0("combinedproduct", i)))

# Combine all data frames into one
Combined_df <- bind_rows(df_list)

# Write the combined data frame to a CSV file
write.csv(Combined_df, file = "Combined_Products.csv")

```
